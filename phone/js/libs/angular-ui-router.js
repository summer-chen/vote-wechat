(function t(e,r){if(typeof exports==="object"&&typeof module==="object")module.exports=r(require("angular"));else if(typeof define==="function"&&define.amd)define("angular-ui-router",["angular"],r);else if(typeof exports==="object")exports["angular-ui-router"]=r(require("angular"));else e["angular-ui-router"]=r(e["angular"])})(this,function(t){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{},id:n,loaded:false};t[n].call(i.exports,i,i.exports,r);i.loaded=true;return i.exports}r.m=t;r.c=e;r.p="";return r(0)}([function(t,e,r){"use strict";function n(t){for(var r in t)if(!e.hasOwnProperty(r))e[r]=t[r]}n(r(1));n(r(53));n(r(55));n(r(58));r(60);r(61);r(62);r(63);Object.defineProperty(e,"__esModule",{value:true});e.default="ui.router"},function(t,e,r){"use strict";function n(t){for(var r in t)if(!e.hasOwnProperty(r))e[r]=t[r]}n(r(2));n(r(46));n(r(47));n(r(48));n(r(49));n(r(50));n(r(51));n(r(52));n(r(44));var i=r(25);e.UIRouter=i.UIRouter},function(t,e,r){"use strict";function n(t){for(var r in t)if(!e.hasOwnProperty(r))e[r]=t[r]}n(r(3));n(r(6));n(r(7));n(r(5));n(r(4));n(r(8));n(r(9));n(r(12))},function(t,e,r){"use strict";var n=r(4);var i=r(5);var o=r(6);var a=typeof window==="undefined"?{}:window;var u=a.angular||{};e.fromJson=u.fromJson||JSON.parse.bind(JSON);e.toJson=u.toJson||JSON.stringify.bind(JSON);e.copy=u.copy||k;e.forEach=u.forEach||P;e.extend=u.extend||C;e.equals=u.equals||O;e.identity=function(t){return t};e.noop=function(){return undefined};function s(t,e,r,n){if(n===void 0){n=Object.keys(t)}return n.filter(function(e){return typeof t[e]==="function"}).forEach(function(n){return e[n]=t[n].bind(r)})}e.bindFunctions=s;e.inherit=function(t,r){return e.extend(new(e.extend(function(){},{prototype:t})),r)};var c=function(t,e){if(e===void 0){e=0}return Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(t,e))};e.inArray=function(t,e){return t.indexOf(e)!==-1};e.removeFrom=i.curry(function(t,e){var r=t.indexOf(e);if(r>=0)t.splice(r,1);return t});function f(t){if(t===void 0){t={}}var r=[];for(var n=1;n<arguments.length;n++){r[n-1]=arguments[n]}var i=l.apply(null,[{}].concat(r));return e.extend({},i,d(t||{},Object.keys(i)))}e.defaults=f;function l(t){var r=[];for(var n=1;n<arguments.length;n++){r[n-1]=arguments[n]}e.forEach(r,function(r){e.forEach(r,function(e,r){if(!t.hasOwnProperty(r))t[r]=e})});return t}e.merge=l;e.mergeR=function(t,r){return e.extend(t,r)};function v(t,e){var r=[];for(var n in t.path){if(t.path[n]!==e.path[n])break;r.push(t.path[n])}return r}e.ancestors=v;function p(t,e,r){if(r===void 0){r=Object.keys(t)}for(var n=0;n<r.length;n++){var i=r[n];if(t[i]!=e[i])return false}return true}e.equalForKeys=p;function h(t,e){var r=[];for(var n=2;n<arguments.length;n++){r[n-2]=arguments[n]}var i={};for(var o in e){if(t(r,o))i[o]=e[o]}return i}function d(t){return h.apply(null,[e.inArray].concat(c(arguments)))}e.pick=d;function m(t){var r=function(t,r){return!e.inArray(t,r)};return h.apply(null,[r].concat(c(arguments)))}e.omit=m;function g(t,e){return b(t,i.prop(e))}e.pluck=g;function y(t,r){var i=n.isArray(t),o=i?[]:{};var a=i?function(t){return o.push(t)}:function(t,e){return o[e]=t};e.forEach(t,function(t,e){if(r(t,e))a(t,e)});return o}e.filter=y;function w(t,r){var n;e.forEach(t,function(t,e){if(n)return;if(r(t,e))n=t});return n}e.find=w;e.mapObj=b;function b(t,r){var i=n.isArray(t)?[]:{};e.forEach(t,function(t,e){return i[e]=r(t,e)});return i}e.map=b;e.values=function(t){return Object.keys(t).map(function(e){return t[e]})};e.allTrueR=function(t,e){return t&&e};e.anyTrueR=function(t,e){return t||e};e.unnestR=function(t,e){return t.concat(e)};e.flattenR=function(t,r){return n.isArray(r)?t.concat(r.reduce(e.flattenR,[])):$(t,r)};function $(t,e){t.push(e);return t}e.pushR=$;e.uniqR=function(t,r){return e.inArray(t,r)?t:$(t,r)};e.unnest=function(t){return t.reduce(e.unnestR,[])};e.flatten=function(t){return t.reduce(e.flattenR,[])};function S(t,e){if(e===void 0){e="assert failure"}return function(r){if(!t(r)){throw new Error(n.isFunction(e)?e(r):e)}return true}}e.assertPredicate=S;e.pairs=function(t){return Object.keys(t).map(function(e){return[e,t[e]]})};function R(){var t=[];for(var e=0;e<arguments.length;e++){t[e-0]=arguments[e]}if(t.length===0)return[];var r=t.reduce(function(t,e){return Math.min(e.length,t)},9007199254740991);return Array.apply(null,Array(r)).map(function(e,r){return t.map(function(t){return t[r]})})}e.arrayTuples=R;function E(t,e){var r,i;if(n.isArray(e))r=e[0],i=e[1];if(!n.isString(r))throw new Error("invalid parameters to applyPairs");t[r]=i;return t}e.applyPairs=E;function x(t){return t.length&&t[t.length-1]||undefined}e.tail=x;function k(t,r){if(r)Object.keys(r).forEach(function(t){return delete r[t]});if(!r)r={};return e.extend(r,t)}function P(t,e,r){if(n.isArray(t))return t.forEach(e,r);Object.keys(t).forEach(function(r){return e(t[r],r)})}function _(t,e){Object.keys(e).forEach(function(r){return t[r]=e[r]});return t}function C(t){return c(arguments,1).filter(e.identity).reduce(_,t)}function O(t,e){if(t===e)return true;if(t===null||e===null)return false;if(t!==t&&e!==e)return true;var r=typeof t,o=typeof e;if(r!==o||r!=="object")return false;var a=[t,e];if(i.all(n.isArray)(a))return T(t,e);if(i.all(n.isDate)(a))return t.getTime()===e.getTime();if(i.all(n.isRegExp)(a))return t.toString()===e.toString();if(i.all(n.isFunction)(a))return true;var u=[n.isFunction,n.isArray,n.isDate,n.isRegExp];if(u.map(i.any).reduce(function(t,e){return t||!!e(a)},false))return false;var s,c={};for(s in t){if(!O(t[s],e[s]))return false;c[s]=true}for(s in e){if(!c[s])return false}return true}function T(t,e){if(t.length!==e.length)return false;return R(t,e).reduce(function(t,e){return t&&O(e[0],e[1])},true)}e.silenceUncaughtInPromise=function(t){return t.catch(function(t){return 0})&&t};e.silentRejection=function(t){return e.silenceUncaughtInPromise(o.services.$q.reject(t))}},function(t,e,r){"use strict";var n=r(5);var i=Object.prototype.toString;var o=function(t){return function(e){return typeof e===t}};e.isUndefined=o("undefined");e.isDefined=n.not(e.isUndefined);e.isNull=function(t){return t===null};e.isFunction=o("function");e.isNumber=o("number");e.isString=o("string");e.isObject=function(t){return t!==null&&typeof t==="object"};e.isArray=Array.isArray;e.isDate=function(t){return i.call(t)==="[object Date]"};e.isRegExp=function(t){return i.call(t)==="[object RegExp]"};function a(t){if(e.isArray(t)&&t.length){var r=t.slice(0,-1),i=t.slice(-1);return!(r.filter(n.not(e.isString)).length||i.filter(n.not(e.isFunction)).length)}return e.isFunction(t)}e.isInjectable=a;e.isPromise=n.and(e.isObject,n.pipe(n.prop("then"),e.isFunction))},function(t,e){"use strict";function r(t){var e=[].slice.apply(arguments,[1]);var r=t.length;function n(e){if(e.length>=r)return t.apply(null,e);return function(){return n(e.concat([].slice.apply(arguments)))}}return n(e)}e.curry=r;function n(){var t=arguments;var e=t.length-1;return function(){var r=e,n=t[e].apply(this,arguments);while(r--)n=t[r].call(this,n);return n}}e.compose=n;function i(){var t=[];for(var e=0;e<arguments.length;e++){t[e-0]=arguments[e]}return n.apply(null,[].slice.call(arguments).reverse())}e.pipe=i;e.prop=function(t){return function(e){return e&&e[t]}};e.propEq=r(function(t,e,r){return r&&r[t]===e});e.parse=function(t){return i.apply(null,t.split(".").map(e.prop))};e.not=function(t){return function(){var e=[];for(var r=0;r<arguments.length;r++){e[r-0]=arguments[r]}return!t.apply(null,e)}};function o(t,e){return function(){var r=[];for(var n=0;n<arguments.length;n++){r[n-0]=arguments[n]}return t.apply(null,r)&&e.apply(null,r)}}e.and=o;function a(t,e){return function(){var r=[];for(var n=0;n<arguments.length;n++){r[n-0]=arguments[n]}return t.apply(null,r)||e.apply(null,r)}}e.or=a;e.all=function(t){return function(e){return e.reduce(function(e,r){return e&&!!t(r)},true)}};e.any=function(t){return function(e){return e.reduce(function(e,r){return e||!!t(r)},false)}};e.is=function(t){return function(e){return e!=null&&e.constructor===t||e instanceof t}};e.eq=function(t){return function(e){return t===e}};e.val=function(t){return function(){return t}};function u(t,e){return function(r){return r[t].apply(r,e)}}e.invoke=u;function s(t){return function(e){for(var r=0;r<t.length;r++){if(t[r][0](e))return t[r][1](e)}}}e.pattern=s},function(t,e){"use strict";var r=function(t){return function(){throw new Error(t+"(): No coreservices implementation for UI-Router is loaded. You should include one of: ['angular1.js']")}};var n={$q:undefined,$injector:undefined,location:{},locationConfig:{},template:{}};e.services=n;["setUrl","path","search","hash","onChange"].forEach(function(t){return n.location[t]=r(t)});["port","protocol","host","baseHref","html5Mode","hashPrefix"].forEach(function(t){return n.locationConfig[t]=r(t)})},function(t,e){"use strict";var r=function(){function t(t){this.text=t;this.glob=t.split(".");var e=this.text.split(".").map(function(t){if(t==="**")return"(?:|(?:\\.[^.]*)*)";if(t==="*")return"\\.[^.]*";return"\\."+t}).join("");this.regexp=new RegExp("^"+e+"$")}t.prototype.matches=function(t){return this.regexp.test("."+t)};t.is=function(t){return t.indexOf("*")>-1};t.fromString=function(e){if(!this.is(e))return null;return new t(e)};return t}();e.Glob=r},function(t,e){"use strict";var r=function(){function t(t,e){if(t===void 0){t=[]}if(e===void 0){e=null}this._items=t;this._limit=e}t.prototype.enqueue=function(t){var e=this._items;e.push(t);if(this._limit&&e.length>this._limit)e.shift();return t};t.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]};t.prototype.clear=function(){var t=this._items;this._items=[];return t};t.prototype.size=function(){return this._items.length};t.prototype.remove=function(t){var e=this._items.indexOf(t);return e>-1&&this._items.splice(e,1)[0]};t.prototype.peekTail=function(){return this._items[this._items.length-1]};t.prototype.peekHead=function(){if(this.size())return this._items[0]};return t}();e.Queue=r},function(t,e,r){"use strict";var n=r(4);var i=r(10);var o=r(3);var a=r(5);var u=r(11);var s=r(19);function c(t,e){if(e.length<=t)return e;return e.substr(0,t-3)+"..."}e.maxLength=c;function f(t,e){while(e.length<t)e+=" ";return e}e.padString=f;function l(t){return t.replace(/^([A-Z])/,function(t){return t.toLowerCase()}).replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}e.kebobString=l;function v(t){return JSON.stringify(t)}function p(t){return n.isString(t)?JSON.parse(t):t}function h(t){return"Promise("+JSON.stringify(t)+")"}function d(t){var e=m(t);var r=e.match(/^(function [^ ]+\([^)]*\))/);var n=r?r[1]:e;var i=t["name"]||"";if(i&&n.match(/function \(/)){return"function "+i+n.substr(9)}return n}e.functionToString=d;function m(t){var e=n.isArray(t)?t.slice(-1)[0]:t;return e&&e.toString()||"undefined"}e.fnToString=m;var g=null;var y=function(t){var e=i.Rejection.isTransitionRejectionPromise;g=g||a.pattern([[a.not(n.isDefined),a.val("undefined")],[n.isNull,a.val("null")],[n.isPromise,a.val("[Promise]")],[e,function(t){return t._transitionRejection.toString()}],[a.is(i.Rejection),a.invoke("toString")],[a.is(u.Transition),a.invoke("toString")],[a.is(s.Resolvable),a.invoke("toString")],[n.isInjectable,d],[a.val(true),o.identity]]);return g(t)};function w(t){var e=[];function r(t){if(n.isObject(t)){if(e.indexOf(t)!==-1)return"[circular ref]";e.push(t)}return y(t)}return JSON.stringify(t,function(t,e){return r(e)}).replace(/\\"/g,'"')}e.stringify=w;e.beforeAfterSubstr=function(t){return function(e){if(!e)return["",""];var r=e.indexOf(t);if(r===-1)return[e,""];return[e.substr(0,r),e.substr(r+1)]}}},function(t,e,r){"use strict";var n=r(3);var i=r(9);(function(t){t[t["SUPERSEDED"]=2]="SUPERSEDED";t[t["ABORTED"]=3]="ABORTED";t[t["INVALID"]=4]="INVALID";t[t["IGNORED"]=5]="IGNORED";t[t["ERROR"]=6]="ERROR"})(e.RejectType||(e.RejectType={}));var o=e.RejectType;var a=function(){function t(t,e,r){this.type=t;this.message=e;this.detail=r}t.prototype.toString=function(){var t=function(t){return t&&t.toString!==Object.prototype.toString?t.toString():i.stringify(t)};var e=this.type,r=this.message,n=t(this.detail);return"TransitionRejection(type: "+e+", message: "+r+", detail: "+n+")"};t.prototype.toPromise=function(){return n.extend(n.silentRejection(this),{_transitionRejection:this})};t.isTransitionRejectionPromise=function(e){return e&&typeof e.then==="function"&&e._transitionRejection instanceof t};t.superseded=function(e,r){var n="The transition has been superseded by a different transition";var i=new t(o.SUPERSEDED,n,e);if(r&&r.redirected){i.redirected=true}return i};t.redirected=function(e){return t.superseded(e,{redirected:true})};t.invalid=function(e){var r="This transition is invalid";return new t(o.INVALID,r,e)};t.ignored=function(e){var r="The transition was ignored";return new t(o.IGNORED,r,e)};t.aborted=function(e){var r="The transition has been aborted";return new t(o.ABORTED,r,e)};t.errored=function(e){var r="The transition errored";return new t(o.ERROR,r,e)};return t}();e.Rejection=a},function(t,e,r){"use strict";var n=r(9);var i=r(12);var o=r(6);var a=r(3);var u=r(4);var s=r(5);var c=r(13);var f=r(15);var l=r(16);var v=r(21);var p=r(20);var h=r(14);var d=r(22);var m=r(19);var g=r(10);var y=r(17);var w=r(25);var b=0;var $=s.prop("self");var S=function(){function t(e,r,n){var i=this;this._deferred=o.services.$q.defer();this.promise=this._deferred.promise;this.treeChanges=function(){return i._treeChanges};this.isActive=function(){return i===i._options.current()};this.router=n;this._targetState=r;if(!r.valid()){throw new Error(r.error())}f.HookRegistry.mixin(new f.HookRegistry,this);this._options=a.extend({current:s.val(this)},r.options());this.$id=b++;var u=p.PathFactory.buildToPath(e,r);this._treeChanges=p.PathFactory.treeChanges(e,u,this._options.reloadState);var c=this._treeChanges.entering.map(function(t){return t.state});p.PathFactory.applyViewConfigs(n.transitionService.$view,this._treeChanges.to,c);var l=[new m.Resolvable(w.UIRouter,function(){return n},[],undefined,n),new m.Resolvable(t,function(){return i},[],undefined,this),new m.Resolvable("$transition$",function(){return i},[],undefined,this),new m.Resolvable("$stateParams",function(){return i.params()},[],undefined,this.params())];var v=this._treeChanges.to[0];var h=new y.ResolveContext(this._treeChanges.to);h.addResolvables(l,v.state)}t.prototype.onBefore=function(t,e,r){throw""};t.prototype.onStart=function(t,e,r){throw""};t.prototype.onExit=function(t,e,r){throw""};t.prototype.onRetain=function(t,e,r){throw""};t.prototype.onEnter=function(t,e,r){throw""};t.prototype.onFinish=function(t,e,r){throw""};t.prototype.onSuccess=function(t,e,r){throw""};t.prototype.onError=function(t,e,r){throw""};t.prototype.$from=function(){return a.tail(this._treeChanges.from).state};t.prototype.$to=function(){return a.tail(this._treeChanges.to).state};t.prototype.from=function(){return this.$from().self};t.prototype.to=function(){return this.$to().self};t.prototype.targetState=function(){return this._targetState};t.prototype.is=function(e){if(e instanceof t){return this.is({to:e.$to().name,from:e.$from().name})}return!(e.to&&!f.matchState(this.$to(),e.to)||e.from&&!f.matchState(this.$from(),e.from))};t.prototype.params=function(t){if(t===void 0){t="to"}return this._treeChanges[t].map(s.prop("paramValues")).reduce(a.mergeR,{})};t.prototype.injector=function(t){var e=this.treeChanges().to;if(t)e=p.PathFactory.subPath(e,function(e){return e.state===t||e.state.name===t});return new y.ResolveContext(e).injector()};t.prototype.getResolveTokens=function(){return new y.ResolveContext(this._treeChanges.to).getTokens()};t.prototype.getResolveValue=function(t){var e=new y.ResolveContext(this._treeChanges.to);var r=function(t){var r=e.getResolvable(t);if(r===undefined){throw new Error("Dependency Injection token not found: "+n.stringify(t))}return r.data};if(u.isArray(t)){return t.map(r)}return r(t)};t.prototype.getResolvable=function(t){return new y.ResolveContext(this._treeChanges.to).getResolvable(t)};t.prototype.addResolvable=function(t,e){if(e===void 0){e=""}var r=typeof e==="string"?e:e.name;var n=this._treeChanges.to;var i=a.find(n,function(t){return t.state.name===r});var o=new y.ResolveContext(n);o.addResolvables([t],i.state)};t.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null};t.prototype.options=function(){return this._options};t.prototype.entering=function(){return a.map(this._treeChanges.entering,s.prop("state")).map($)};t.prototype.exiting=function(){return a.map(this._treeChanges.exiting,s.prop("state")).map($).reverse()};t.prototype.retained=function(){return a.map(this._treeChanges.retained,s.prop("state")).map($)};t.prototype.views=function(t,e){if(t===void 0){t="entering"}var r=this._treeChanges[t];r=!e?r:r.filter(s.propEq("state",e));return r.map(s.prop("views")).filter(a.identity).reduce(a.unnestR,[])};t.prototype.redirect=function(t){var e=a.extend({},this.options(),t.options(),{redirectedFrom:this,source:"redirect"});t=new h.TargetState(t.identifier(),t.$state(),t.params(),e);var r=this.router.transitionService.create(this._treeChanges.from,t);var n=this.treeChanges().entering;var i=r.treeChanges().entering;var o=function(t){return function(e){return t&&e.state.includes[t.name]}};var u=v.PathNode.matching(i,n).filter(s.not(o(t.options().reloadState)));u.forEach(function(t,e){t.resolvables=n[e].resolvables});return r};t.prototype._changedParams=function(){var t=this._treeChanges,e=t.to,r=t.from;if(this._options.reload||a.tail(e).state!==a.tail(r).state)return undefined;var n=e.map(function(t){return t.paramSchema});var i=[e,r].map(function(t){return t.map(function(t){return t.paramValues})}),o=i[0],u=i[1];var s=a.arrayTuples(n,o,u);return s.map(function(t){var e=t[0],r=t[1],n=t[2];return d.Param.changed(e,r,n)}).reduce(a.unnestR,[])};t.prototype.dynamic=function(){var t=this._changedParams();return!t?false:t.map(function(t){return t.dynamic}).reduce(a.anyTrueR,false)};t.prototype.ignored=function(){var t=this._changedParams();return!t?false:t.length===0};t.prototype.hookBuilder=function(){return new l.HookBuilder(this.router.transitionService,this,{transition:this,current:this._options.current})};t.prototype.run=function(){var t=this;var e=c.TransitionHook.runSynchronousHooks;var r=this.hookBuilder();var n=this.router.globals;n.transitionHistory.enqueue(this);var o=e(r.getOnBeforeHooks());if(g.Rejection.isTransitionRejectionPromise(o)){o.catch(function(){return 0});var a=o._transitionRejection;this._deferred.reject(a);return this.promise}if(!this.valid()){var u=new Error(this.error());this._deferred.reject(u);return this.promise}if(this.ignored()){i.trace.traceTransitionIgnored(this);this._deferred.reject(g.Rejection.ignored());return this.promise}var s=function(){i.trace.traceSuccess(t.$to(),t);t.success=true;t._deferred.resolve(t.to());e(r.getOnSuccessHooks(),true)};var f=function(n){i.trace.traceError(n,t);t.success=false;t._deferred.reject(n);t._error=n;e(r.getOnErrorHooks(),true)};i.trace.traceTransitionStart(this);var l=function(t,e){return t.then(function(){return e.invokeHook()})};r.asyncHooks().reduce(l,o).then(s,f);return this.promise};t.prototype.valid=function(){return!this.error()||this.success!==undefined};t.prototype.error=function(){var t=this.$to();var e=0,r=this;while((r=r.redirectedFrom())!=null){if(++e>20)return"Too many Transition redirects (20+)"}if(t.self.abstract)return"Cannot transition to abstract state '"+t.name+"'";if(!d.Param.validates(t.parameters(),this.params()))return"Param values not valid for state '"+t.name+"'";if(this.success===false)return this._error};t.prototype.toString=function(){var t=this.from();var e=this.to();var r=function(t){return t["#"]!==null&&t["#"]!==undefined?t:a.omit(t,"#")};var n=this.$id,i=u.isObject(t)?t.name:t,o=a.toJson(r(this._treeChanges.from.map(s.prop("paramValues")).reduce(a.mergeR,{}))),c=this.valid()?"":"(X) ",f=u.isObject(e)?e.name:e,l=a.toJson(r(this.params()));return"Transition#"+n+"( '"+i+"'"+o+" -> "+c+"'"+f+"'"+l+" )"};t.diToken=t;return t}();e.Transition=S},function(t,e,r){"use strict";var n=r(5);var i=r(4);var o=r(9);function a(t){if(!t)return"ui-view (defunct)";return"[ui-view#"+t.id+" tag "+("in template from '"+(t.creationContext&&t.creationContext.name||"(root)")+"' state]: ")+("fqn: '"+t.fqn+"', ")+("name: '"+t.name+"@"+t.creationContext+"')")}var u=function(t){return"[ViewConfig#"+t.$id+" from '"+(t.viewDecl.$context.name||"(root)")+"' state]: target ui-view: '"+t.viewDecl.$uiViewName+"@"+t.viewDecl.$uiViewContextAnchor+"'"};function s(t){return i.isNumber(t)?c[t]:c[c[t]]}(function(t){t[t["RESOLVE"]=0]="RESOLVE";t[t["TRANSITION"]=1]="TRANSITION";t[t["HOOK"]=2]="HOOK";t[t["UIVIEW"]=3]="UIVIEW";t[t["VIEWCONFIG"]=4]="VIEWCONFIG"})(e.Category||(e.Category={}));var c=e.Category;var f=function(){function t(){this._enabled={};this.approximateDigests=0}t.prototype._set=function(t,e){var r=this;if(!e.length){e=Object.keys(c).map(function(t){return parseInt(t,10)}).filter(function(t){return!isNaN(t)}).map(function(t){return c[t]})}e.map(s).forEach(function(e){return r._enabled[e]=t})};t.prototype.enable=function(){var t=[];for(var e=0;e<arguments.length;e++){t[e-0]=arguments[e]}this._set(true,t)};t.prototype.disable=function(){var t=[];for(var e=0;e<arguments.length;e++){t[e-0]=arguments[e]}this._set(false,t)};t.prototype.enabled=function(t){return!!this._enabled[s(t)]};t.prototype.traceTransitionStart=function(t){if(!this.enabled(c.TRANSITION))return;var e=t.$id,r=this.approximateDigests,n=o.stringify(t);console.log("Transition #"+e+" Digest #"+r+": Started  -> "+n)};t.prototype.traceTransitionIgnored=function(t){if(!this.enabled(c.TRANSITION))return;var e=t&&t.$id,r=this.approximateDigests,n=o.stringify(t);console.log("Transition #"+e+" Digest #"+r+": Ignored  <> "+n)};t.prototype.traceHookInvocation=function(t,e){if(!this.enabled(c.HOOK))return;var r=n.parse("transition.$id")(e),i=this.approximateDigests,a=n.parse("traceData.hookType")(e)||"internal",u=n.parse("traceData.context.state.name")(e)||n.parse("traceData.context")(e)||"unknown",s=o.functionToString(t.eventHook.callback);console.log("Transition #"+r+" Digest #"+i+":   Hook -> "+a+" context: "+u+", "+o.maxLength(200,s))};t.prototype.traceHookResult=function(t,e){if(!this.enabled(c.HOOK))return;var r=n.parse("transition.$id")(e),i=this.approximateDigests,a=o.stringify(t);console.log("Transition #"+r+" Digest #"+i+":   <- Hook returned: "+o.maxLength(200,a))};t.prototype.traceResolvePath=function(t,e,r){if(!this.enabled(c.RESOLVE))return;var n=r&&r.$id,i=this.approximateDigests,o=t&&t.toString();console.log("Transition #"+n+" Digest #"+i+":         Resolving "+o+" ("+e+")")};t.prototype.traceResolvableResolved=function(t,e){if(!this.enabled(c.RESOLVE))return;var r=e&&e.$id,n=this.approximateDigests,i=t&&t.toString(),a=o.stringify(t.data);console.log("Transition #"+r+" Digest #"+n+":               <- Resolved  "+i+" to: "+o.maxLength(200,a))};t.prototype.traceError=function(t,e){if(!this.enabled(c.TRANSITION))return;var r=e&&e.$id,n=this.approximateDigests,i=o.stringify(e);console.log("Transition #"+r+" Digest #"+n+": <- Rejected "+i+", reason: "+t)};t.prototype.traceSuccess=function(t,e){if(!this.enabled(c.TRANSITION))return;var r=e&&e.$id,n=this.approximateDigests,i=t.name,a=o.stringify(e);console.log("Transition #"+r+" Digest #"+n+": <- Success  "+a+", final state: "+i)};t.prototype.traceUIViewEvent=function(t,e,r){if(r===void 0){r=""}if(!this.enabled(c.UIVIEW))return;console.log("ui-view: "+o.padString(30,t)+" "+a(e)+r)};t.prototype.traceUIViewConfigUpdated=function(t,e){if(!this.enabled(c.UIVIEW))return;this.traceUIViewEvent("Updating",t," with ViewConfig from context='"+e+"'")};t.prototype.traceUIViewFill=function(t,e){if(!this.enabled(c.UIVIEW))return;this.traceUIViewEvent("Fill",t," with: "+o.maxLength(200,e))};t.prototype.traceViewServiceEvent=function(t,e){if(!this.enabled(c.VIEWCONFIG))return;console.log("VIEWCONFIG: "+t+" "+u(e))};t.prototype.traceViewServiceUIViewEvent=function(t,e){if(!this.enabled(c.VIEWCONFIG))return;console.log("VIEWCONFIG: "+t+" "+a(e))};return t}();e.Trace=f;var l=new f;e.trace=l},function(t,e,r){"use strict";var n=r(3);var i=r(9);var o=r(4);var a=r(5);var u=r(12);var s=r(6);var c=r(10);var f=r(14);var l={async:true,rejectIfSuperseded:true,current:n.noop,transition:null,traceData:{},bind:null};var v=function(){function t(t,e,r,i){var o=this;this.transition=t;this.stateContext=e;this.eventHook=r;this.options=i;this.isSuperseded=function(){return o.options.current()!==o.options.transition};this.options=n.defaults(i,l)}t.prototype.invokeHook=function(){var t=this,e=t.options,r=t.eventHook;u.trace.traceHookInvocation(this,e);if(e.rejectIfSuperseded&&this.isSuperseded()){return c.Rejection.superseded(e.current()).toPromise()}var n=!r._deregistered?r.callback.call(e.bind,this.transition,this.stateContext):undefined;return this.handleHookResult(n)};t.prototype.handleHookResult=function(t){if(this.isSuperseded()){return c.Rejection.superseded(this.options.current()).toPromise()}if(o.isPromise(t)){return t.then(this.handleHookResult.bind(this))}u.trace.traceHookResult(t,this.options);if(t===false){return c.Rejection.aborted("Hook aborted transition").toPromise()}var e=a.is(f.TargetState);if(e(t)){return c.Rejection.redirected(t).toPromise()}};t.prototype.toString=function(){var t=this,e=t.options,r=t.eventHook;var n=a.parse("traceData.hookType")(e)||"internal",o=a.parse("traceData.context.state.name")(e)||a.parse("traceData.context")(e)||"unknown",u=i.fnToString(r.callback);return n+" context: "+o+", "+i.maxLength(200,u)};t.runSynchronousHooks=function(t,e){if(e===void 0){e=false}var r=[];for(var n=0;n<t.length;n++){var i=t[n];try{r.push(i.invokeHook())}catch(t){if(!e){return c.Rejection.errored(t).toPromise()}var u=i.transition.router.stateService.defaultErrorHandler();u(t)}}var f=r.filter(c.Rejection.isTransitionRejectionPromise);if(f.length)return f[0];return r.filter(o.isPromise).reduce(function(t,e){return t.then(a.val(e))},s.services.$q.when())};return t}();e.TransitionHook=v},function(t,e,r){"use strict";var n=r(3);var i=function(){function t(t,e,r,n){if(r===void 0){r={}}if(n===void 0){n={}}this._identifier=t;this._definition=e;this._options=n;this._params=r||{}}t.prototype.name=function(){return this._definition&&this._definition.name||this._identifier};t.prototype.identifier=function(){return this._identifier};t.prototype.params=function(){return this._params};t.prototype.$state=function(){return this._definition};t.prototype.state=function(){return this._definition&&this._definition.self};t.prototype.options=function(){return this._options};t.prototype.exists=function(){return!!(this._definition&&this._definition.self)};t.prototype.valid=function(){return!this.error()};t.prototype.error=function(){var t=this.options().relative;if(!this._definition&&!!t){var e=t.name?t.name:t;return"Could not resolve '"+this.name()+"' from state '"+e+"'"}if(!this._definition)return"No such state '"+this.name()+"'";if(!this._definition.self)return"State '"+this.name()+"' has an invalid definition"};t.prototype.toString=function(){return"'"+this.name()+"'"+n.toJson(this.params())};return t}();e.TargetState=i},function(t,e,r){"use strict";var n=r(3);var i=r(4);var o=r(7);function a(t,e){var r=i.isString(e)?[e]:e;function n(t){var e=r;for(var n=0;n<e.length;n++){var i=o.Glob.fromString(e[n]);if(i&&i.matches(t.name)||!i&&e[n]===t.name){return true}}return false}var a=i.isFunction(r)?r:n;return!!a(t)}e.matchState=a;var u=function(){function t(t,e,r){if(r===void 0){r={}}this.callback=e;this.matchCriteria=n.extend({to:true,from:true,exiting:true,retained:true,entering:true},t);this.priority=r.priority||0;this.bind=r.bind||null;this._deregistered=false}t._matchingNodes=function(t,e){if(e===true)return t;var r=t.filter(function(t){return a(t.state,e)});return r.length?r:null};t.prototype.matches=function(e){var r=this.matchCriteria,i=t._matchingNodes;var o={to:i([n.tail(e.to)],r.to),from:i([n.tail(e.from)],r.from),exiting:i(e.exiting,r.exiting),retained:i(e.retained,r.retained),entering:i(e.entering,r.entering)};var a=["to","from","exiting","retained","entering"].map(function(t){return o[t]}).reduce(n.allTrueR,true);return a?o:null};return t}();e.EventHook=u;function s(t,e){return function(r,i,o){if(o===void 0){o={}}var a=new u(r,i,o);t[e].push(a);return function r(){a._deregistered=true;n.removeFrom(t[e])(a)}}}var c=function(){function t(){var t=this;this._transitionEvents={onBefore:[],onStart:[],onEnter:[],onRetain:[],onExit:[],onFinish:[],onSuccess:[],onError:[]};this.getHooks=function(e){return t._transitionEvents[e]};this.onBefore=s(this._transitionEvents,"onBefore");this.onStart=s(this._transitionEvents,"onStart");this.onEnter=s(this._transitionEvents,"onEnter");this.onRetain=s(this._transitionEvents,"onRetain");this.onExit=s(this._transitionEvents,"onExit");this.onFinish=s(this._transitionEvents,"onFinish");this.onSuccess=s(this._transitionEvents,"onSuccess");this.onError=s(this._transitionEvents,"onError")}t.mixin=function(t,e){Object.keys(t._transitionEvents).concat(["getHooks"]).forEach(function(r){return e[r]=t[r]})};return t}();e.HookRegistry=c},function(t,e,r){"use strict";var n=r(3);var i=r(4);var o=r(13);var a=r(17);var u=function(){function t(t,e,r){var i=this;this.$transitions=t;this.transition=e;this.baseHookOptions=r;this.getOnBeforeHooks=function(){return i._buildNodeHooks("onBefore","to",s(),{async:false})};this.getOnStartHooks=function(){return i._buildNodeHooks("onStart","to",s())};this.getOnExitHooks=function(){return i._buildNodeHooks("onExit","exiting",s(true),{stateHook:true})};this.getOnRetainHooks=function(){return i._buildNodeHooks("onRetain","retained",s(false),{stateHook:true})};this.getOnEnterHooks=function(){return i._buildNodeHooks("onEnter","entering",s(false),{stateHook:true})};this.getOnFinishHooks=function(){return i._buildNodeHooks("onFinish","to",s())};this.getOnSuccessHooks=function(){return i._buildNodeHooks("onSuccess","to",s(),{async:false,rejectIfSuperseded:false})};this.getOnErrorHooks=function(){return i._buildNodeHooks("onError","to",s(),{async:false,rejectIfSuperseded:false})};this.treeChanges=e.treeChanges();this.toState=n.tail(this.treeChanges.to).state;this.fromState=n.tail(this.treeChanges.from).state;this.transitionOptions=e.options()}t.prototype.asyncHooks=function(){var t=this.getOnStartHooks();var e=this.getOnExitHooks();var r=this.getOnRetainHooks();var i=this.getOnEnterHooks();var o=this.getOnFinishHooks();var a=[t,e,r,i,o];return a.reduce(n.unnestR,[]).filter(n.identity)};t.prototype._buildNodeHooks=function(t,e,r,i){var u=this;var s=this._matchingHooks(t,this.treeChanges);if(!s)return[];var c=function(r){var s=r.matches(u.treeChanges);var c=s[e];var f=e==="exiting"?u.treeChanges.from:u.treeChanges.to;var l=new a.ResolveContext(f);return c.map(function(e){var a=n.extend({bind:r.bind,traceData:{hookType:t,context:e}},u.baseHookOptions,i);var s=a.stateHook?e.state:null;var c=new o.TransitionHook(u.transition,s,r,a);return{hook:r,node:e,transitionHook:c}})};return s.map(c).reduce(n.unnestR,[]).sort(r).map(function(t){return t.transitionHook})};t.prototype._matchingHooks=function(t,e){return[this.transition,this.$transitions].map(function(e){return e.getHooks(t)}).filter(n.assertPredicate(i.isArray,"broken event named: "+t)).reduce(n.unnestR,[]).filter(function(t){return t.matches(e)})};return t}();e.HookBuilder=u;function s(t){if(t===void 0){t=false}return function e(r,n){var i=t?-1:1;var o=(r.node.state.path.length-n.node.state.path.length)*i;return o!==0?o:n.hook.priority-r.hook.priority}}},function(t,e,r){"use strict";var n=r(3);var i=r(5);var o=r(12);var a=r(6);var u=r(18);var s=r(19);var c=r(20);var f=r(9);var l=u.resolvePolicies.when;var v=[l.EAGER,l.LAZY];var p=[l.EAGER];e.NATIVE_INJECTOR_TOKEN="Native Injector";
var h=function(){function t(t){this._path=t}t.prototype.getTokens=function(){return this._path.reduce(function(t,e){return t.concat(e.resolvables.map(function(t){return t.token}))},[]).reduce(n.uniqR,[])};t.prototype.getResolvable=function(t){var e=this._path.map(function(t){return t.resolvables}).reduce(n.unnestR,[]).filter(function(e){return e.token===t});return n.tail(e)};t.prototype.subContext=function(e){return new t(c.PathFactory.subPath(this._path,function(t){return t.state===e}))};t.prototype.addResolvables=function(t,e){var r=n.find(this._path,i.propEq("state",e));var o=t.map(function(t){return t.token});r.resolvables=r.resolvables.filter(function(t){return o.indexOf(t.token)===-1}).concat(t)};t.prototype.resolvePath=function(t,e){var r=this;if(t===void 0){t="LAZY"}var i=n.inArray(v,t)?t:"LAZY";var s=i===u.resolvePolicies.when.EAGER?p:v;o.trace.traceResolvePath(this._path,t,e);var c=this._path.reduce(function(t,i){var o=function(t){return n.inArray(s,t.getPolicy(i.state).when)};var a=i.resolvables.filter(o);var u=r.subContext(i.state);var c=function(t){return t.get(u,e).then(function(e){return{token:t.token,value:e}})};return t.concat(a.map(c))},[]);return a.services.$q.all(c)};t.prototype.injector=function(){return this._injector||(this._injector=new d(this))};t.prototype.findNode=function(t){return n.find(this._path,function(e){return n.inArray(e.resolvables,t)})};t.prototype.getDependencies=function(t){var e=this;var r=this.findNode(t);var i=c.PathFactory.subPath(this._path,function(t){return t===r})||this._path;var o=i.reduce(function(t,e){return t.concat(e.resolvables)},[]).filter(function(e){return e!==t});var a=function(t){var r=o.filter(function(e){return e.token===t});if(r.length)return n.tail(r);var i=e.injector().getNative(t);if(!i){throw new Error("Could not find Dependency Injection token: "+f.stringify(t))}return new s.Resolvable(t,function(){return i},[],i)};return t.deps.map(a)};return t}();e.ResolveContext=h;var d=function(){function t(t){this.context=t;this.native=this.get(e.NATIVE_INJECTOR_TOKEN)||a.services.$injector}t.prototype.get=function(t){var e=this.context.getResolvable(t);if(e){if(!e.resolved){throw new Error("Resolvable async .get() not complete:"+f.stringify(e.token))}return e.data}return this.native&&this.native.get(t)};t.prototype.getAsync=function(t){var e=this.context.getResolvable(t);if(e)return e.get(this.context);return a.services.$q.when(this.native.get(t))};t.prototype.getNative=function(t){return this.native.get(t)};return t}()},function(t,e){"use strict";e.resolvePolicies={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}}},function(t,e,r){"use strict";var n=r(3);var i=r(6);var o=r(12);var a=r(9);var u=r(4);e.defaultResolvePolicy={when:"LAZY",async:"WAIT"};var s=function(){function t(e,r,o,a,s){this.resolved=false;this.promise=undefined;if(e instanceof t){n.extend(this,e)}else if(u.isFunction(r)){if(e==null||e==undefined)throw new Error("new Resolvable(): token argument is required");if(!u.isFunction(r))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e;this.policy=a;this.resolveFn=r;this.deps=o||[];this.data=s;this.resolved=s!==undefined;this.promise=this.resolved?i.services.$q.when(this.data):undefined}else if(u.isObject(e)&&e.token&&u.isFunction(e.resolveFn)){var c=e;return new t(c.token,c.resolveFn,c.deps,c.policy,c.data)}}t.prototype.getPolicy=function(t){var r=this.policy||{};var n=t&&t.resolvePolicy||{};return{when:r.when||n.when||e.defaultResolvePolicy.when,async:r.async||n.async||e.defaultResolvePolicy.async}};t.prototype.resolve=function(t,e){var r=this;var a=i.services.$q;var u=function(){return a.all(t.getDependencies(r).map(function(r){return r.get(t,e)}))};var s=function(t){return r.resolveFn.apply(null,t)};var c=function(t){var e=t.cache(1);return e.take(1).toPromise().then(function(){return e})};var f=t.findNode(this);var l=f&&f.state;var v=this.getPolicy(l).async==="RXWAIT"?c:n.identity;var p=function(t){r.data=t;r.resolved=true;o.trace.traceResolvableResolved(r,e);return r.data};return this.promise=a.when().then(u).then(s).then(v).then(p)};t.prototype.get=function(t,e){return this.promise||this.resolve(t,e)};t.prototype.toString=function(){return"Resolvable(token: "+a.stringify(this.token)+", requires: ["+this.deps.map(a.stringify)+"])"};t.prototype.clone=function(){return new t(this)};t.fromData=function(e,r){return new t(e,function(){return r},null,null,r)};return t}();e.Resolvable=s},function(t,e,r){"use strict";var n=r(3);var i=r(5);var o=r(14);var a=r(21);var u=function(){function t(){}t.makeTargetState=function(t){var e=n.tail(t).state;return new o.TargetState(e,e,t.map(i.prop("paramValues")).reduce(n.mergeR,{}))};t.buildPath=function(t){var e=t.params();return t.$state().path.map(function(t){return new a.PathNode(t).applyRawParams(e)})};t.buildToPath=function(e,r){var n=t.buildPath(r);if(r.options().inherit){return t.inheritParams(e,n,Object.keys(r.params()))}return n};t.applyViewConfigs=function(e,r,i){r.filter(function(t){return n.inArray(i,t.state)}).forEach(function(i){var o=n.values(i.state.views||{});var a=t.subPath(r,function(t){return t===i});var u=o.map(function(t){return e.createViewConfig(a,t)});i.views=u.reduce(n.unnestR,[])})};t.inheritParams=function(t,e,r){if(r===void 0){r=[]}function o(t,e){var r=n.find(t,i.propEq("state",e));return n.extend({},r&&r.paramValues)}function u(e){var i=n.extend({},e&&e.paramValues);var u=n.pick(i,r);i=n.omit(i,r);var s=o(t,e.state)||{};var c=n.extend(i,s,u);return new a.PathNode(e.state).applyRawParams(c)}return e.map(u)};t.treeChanges=function(t,e,r){var n=0,o=Math.min(t.length,e.length);var u=function(t){return t.parameters({inherit:false}).filter(i.not(i.prop("dynamic"))).map(i.prop("id"))};var s=function(t,e){return t.equals(e,u(t.state))};while(n<o&&t[n].state!==r&&s(t[n],e[n])){n++}function c(t,r){var n=a.PathNode.clone(t);n.paramValues=e[r].paramValues;return n}var f,l,v,p,h;f=t;l=f.slice(0,n);v=f.slice(n);var d=l.map(c);p=e.slice(n);h=d.concat(p);return{from:f,to:h,retained:l,exiting:v,entering:p}};t.subPath=function(t,e){var r=n.find(t,e);var i=t.indexOf(r);return i===-1?undefined:t.slice(0,i+1)};t.paramValues=function(t){return t.reduce(function(t,e){return n.extend(t,e.paramValues)},{})};return t}();e.PathFactory=u},function(t,e,r){"use strict";var n=r(3);var i=r(5);var o=r(22);var a=function(){function t(e){if(e instanceof t){var r=e;this.state=r.state;this.paramSchema=r.paramSchema.slice();this.paramValues=n.extend({},r.paramValues);this.resolvables=r.resolvables.slice();this.views=r.views&&r.views.slice()}else{var i=e;this.state=i;this.paramSchema=i.parameters({inherit:false});this.paramValues={};this.resolvables=i.resolvables.map(function(t){return t.clone()})}}t.prototype.applyRawParams=function(t){var e=function(e){return[e.id,e.value(t[e.id])]};this.paramValues=this.paramSchema.reduce(function(t,r){return n.applyPairs(t,e(r))},{});return this};t.prototype.parameter=function(t){return n.find(this.paramSchema,i.propEq("id",t))};t.prototype.equals=function(t,e){var r=this;if(e===void 0){e=this.paramSchema.map(function(t){return t.id})}var i=function(e){return r.parameter(e).type.equals(r.paramValues[e],t.paramValues[e])};return this.state===t.state&&e.map(i).reduce(n.allTrueR,true)};t.clone=function(e){return new t(e)};t.matching=function(t,e,r){if(r===void 0){r=true}var n=[];for(var i=0;i<t.length&&i<e.length;i++){var a=t[i],u=e[i];if(a.state!==u.state)break;var s=o.Param.changed(a.paramSchema,a.paramValues,u.paramValues).filter(function(t){return!(r&&t.dynamic)});if(s.length)break;n.push(a)}return n};return t}();e.PathNode=a},function(t,e,r){"use strict";var n=r(3);var i=r(5);var o=r(4);var a=r(6);var u=r(23);var s=r(24);var c=Object.prototype.hasOwnProperty;var f=function(t){return["value","type","squash","array","dynamic"].filter(c.bind(t||{})).length===0};(function(t){t[t["PATH"]=0]="PATH";t[t["SEARCH"]=1]="SEARCH";t[t["CONFIG"]=2]="CONFIG"})(e.DefType||(e.DefType={}));var l=e.DefType;function v(t){t=f(t)&&{value:t}||t;return n.extend(t,{$$fn:o.isInjectable(t.value)?t.value:function(){return t.value}})}function p(t,e,r,n,i){if(t.type&&e&&e.name!=="string")throw new Error("Param '"+n+"' has two type configurations.");if(t.type&&e&&e.name==="string"&&i.type(t.type))return i.type(t.type);if(e)return e;if(!t.type)return r===l.CONFIG?i.type("any"):i.type("string");return t.type instanceof s.ParamType?t.type:i.type(t.type)}function h(t,e){var r=t.squash;if(!e||r===false)return false;if(!o.isDefined(r)||r==null)return u.matcherConfig.defaultSquashPolicy();if(r===true||o.isString(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}function d(t,e,r,a){var u,s,c=[{from:"",to:r||e?undefined:""},{from:null,to:r||e?undefined:""}];u=o.isArray(t.replace)?t.replace:[];if(o.isString(a))u.push({from:a,to:undefined});s=n.map(u,i.prop("from"));return n.filter(c,function(t){return s.indexOf(t.from)===-1}).concat(u)}var m=function(){function t(t,e,r,i,a){r=v(r);e=p(r,e,i,t,a);var u=g();e=u?e.$asArray(u,i===l.SEARCH):e;var s=r.value!==undefined;var c=o.isDefined(r.dynamic)?!!r.dynamic:!!e.dynamic;var f=h(r,s);var m=d(r,u,s,f);function g(){var e={array:i===l.SEARCH?"auto":false};var o=t.match(/\[\]$/)?{array:true}:{};return n.extend(e,o,r).array}n.extend(this,{id:t,type:e,location:i,squash:f,replace:m,isOptional:s,dynamic:c,config:r,array:u})}t.prototype.isDefaultValue=function(t){return this.isOptional&&this.type.equals(this.value(),t)};t.prototype.value=function(t){var e=this;var r=function(){if(!a.services.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=a.services.$injector.invoke(e.config.$$fn);if(t!==null&&t!==undefined&&!e.type.is(t))throw new Error("Default value ("+t+") for parameter '"+e.id+"' is not an instance of ParamType ("+e.type.name+")");return t};var u=function(t){var r=n.map(n.filter(e.replace,i.propEq("from",t)),i.prop("to"));return r.length?r[0]:t};t=u(t);return!o.isDefined(t)?r():this.type.$normalize(t)};t.prototype.isSearch=function(){return this.location===l.SEARCH};t.prototype.validates=function(t){if((!o.isDefined(t)||t===null)&&this.isOptional)return true;var e=this.type.$normalize(t);if(!this.type.is(e))return false;var r=this.type.encode(e);return!(o.isString(r)&&!this.type.pattern.exec(r))};t.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"};t.fromConfig=function(e,r,n,i){return new t(e,r,n,l.CONFIG,i)};t.fromPath=function(e,r,n,i){return new t(e,r,n,l.PATH,i)};t.fromSearch=function(e,r,n,i){return new t(e,r,n,l.SEARCH,i)};t.values=function(t,e){if(e===void 0){e={}}return t.map(function(t){return[t.id,t.value(e[t.id])]}).reduce(n.applyPairs,{})};t.changed=function(t,e,r){if(e===void 0){e={}}if(r===void 0){r={}}return t.filter(function(t){return!t.type.equals(e[t.id],r[t.id])})};t.equals=function(e,r,n){if(r===void 0){r={}}if(n===void 0){n={}}return t.changed(e,r,n).length===0};t.validates=function(t,e){if(e===void 0){e={}}return t.map(function(t){return t.validates(e[t.id])}).reduce(n.allTrueR,true)};return t}();e.Param=m},function(t,e,r){"use strict";var n=r(4);var i=function(){function t(){this._isCaseInsensitive=false;this._isStrictMode=true;this._defaultSquashPolicy=false}t.prototype.caseInsensitive=function(t){return this._isCaseInsensitive=n.isDefined(t)?t:this._isCaseInsensitive};t.prototype.strictMode=function(t){return this._isStrictMode=n.isDefined(t)?t:this._isStrictMode};t.prototype.defaultSquashPolicy=function(t){if(n.isDefined(t)&&t!==true&&t!==false&&!n.isString(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=n.isDefined(t)?t:this._defaultSquashPolicy};return t}();e.MatcherConfig=i;e.matcherConfig=new i},function(t,e,r){"use strict";var n=r(3);var i=r(4);function o(t,e){var r=this;function o(t){return i.isArray(t)?t:i.isDefined(t)?[t]:[]}function a(t){switch(t.length){case 0:return undefined;case 1:return e==="auto"?t[0]:t;default:return t}}function u(t,e){return function r(u){if(i.isArray(u)&&u.length===0)return u;var s=o(u);var c=n.map(s,t);return e===true?n.filter(c,function(t){return!t}).length===0:a(c)}}function s(t){return function e(r,n){var i=o(r),a=o(n);if(i.length!==a.length)return false;for(var u=0;u<i.length;u++){if(!t(i[u],a[u]))return false}return true}}["encode","decode","equals","$normalize"].forEach(function(e){var n=t[e].bind(t);var i=e==="equals"?s:u;r[e]=i(n)});n.extend(this,{dynamic:t.dynamic,name:t.name,pattern:t.pattern,is:u(t.is.bind(t),true),$arrayMode:e})}var a=function(){function t(t){this.pattern=/.*/;n.extend(this,t)}t.prototype.is=function(t,e){return true};t.prototype.encode=function(t,e){return t};t.prototype.decode=function(t,e){return t};t.prototype.equals=function(t,e){return t==e};t.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)};t.prototype.toString=function(){return"{ParamType:"+this.name+"}"};t.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)};t.prototype.$asArray=function(t,e){if(!t)return this;if(t==="auto"&&!e)throw new Error("'auto' array mode is for query parameters only");return new o(this,t)};return t}();e.ParamType=a},function(t,e,r){"use strict";var n=r(26);var i=r(29);var o=r(29);var a=r(30);var u=r(37);var s=r(38);var c=r(43);var f=r(44);var l=function(){function t(){this.viewService=new u.ViewService;this.transitionService=new a.TransitionService(this);this.globals=new f.Globals(this.transitionService);this.urlMatcherFactory=new n.UrlMatcherFactory;this.urlRouterProvider=new i.UrlRouterProvider(this.urlMatcherFactory,this.globals.params);this.urlRouter=new o.UrlRouter(this.urlRouterProvider);this.stateRegistry=new s.StateRegistry(this.urlMatcherFactory,this.urlRouterProvider);this.stateService=new c.StateService(this);this.viewService.rootContext(this.stateRegistry.root());this.globals.$current=this.stateRegistry.root();this.globals.current=this.globals.$current.self}return t}();e.UIRouter=l},function(t,e,r){"use strict";var n=r(3);var i=r(4);var o=r(27);var a=r(23);var u=r(22);var s=r(28);function c(){return{strict:a.matcherConfig.strictMode(),caseInsensitive:a.matcherConfig.caseInsensitive()}}var f=function(){function t(){this.paramTypes=new s.ParamTypes;n.extend(this,{UrlMatcher:o.UrlMatcher,Param:u.Param})}t.prototype.caseInsensitive=function(t){return a.matcherConfig.caseInsensitive(t)};t.prototype.strictMode=function(t){return a.matcherConfig.strictMode(t)};t.prototype.defaultSquashPolicy=function(t){return a.matcherConfig.defaultSquashPolicy(t)};t.prototype.compile=function(t,e){return new o.UrlMatcher(t,this.paramTypes,n.extend(c(),e))};t.prototype.isMatcher=function(t){if(!i.isObject(t))return false;var e=true;n.forEach(o.UrlMatcher.prototype,function(r,n){if(i.isFunction(r))e=e&&(i.isDefined(t[n])&&i.isFunction(t[n]))});return e};t.prototype.type=function(t,e,r){var n=this.paramTypes.type(t,e,r);return!i.isDefined(e)?n:this};t.prototype.$get=function(){this.paramTypes.enqueue=false;this.paramTypes._flushTypeQueue();return this};return t}();e.UrlMatcherFactory=f},function(t,e,r){"use strict";var n=r(3);var i=r(5);var o=r(4);var a=r(22);var u=r(4);var s=r(22);var c=r(3);var f=r(3);function l(t,e){var r=["",""],n=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return n;switch(e.squash){case false:r=["(",")"+(e.isOptional?"?":"")];break;case true:n=n.replace(/\/$/,"");r=["(?:/(",")|/)?"];break;default:r=["("+e.squash+"|",")?"];break}return n+r[0]+e.type.pattern.source+r[1]}var v=function(t,e,r){return t[e]=t[e]||r()};var p=function(){function t(e,r,o){var u=this;this.config=o;this._cache={path:[],pattern:null};this._children=[];this._params=[];this._segments=[];this._compiled=[];this.pattern=e;this.config=n.defaults(this.config,{params:{},strict:true,caseInsensitive:false,paramMap:n.identity});var s=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f=0,v,p=[];var h=function(r){if(!t.nameValidator.test(r))throw new Error("Invalid parameter name '"+r+"' in pattern '"+e+"'");if(n.find(u._params,i.propEq("id",r)))throw new Error("Duplicate parameter name '"+r+"' in pattern '"+e+"'")};var d=function(t,i){var o=t[2]||t[3],a=i?t[4]:t[4]||(t[1]==="*"?".*":null);return{id:o,regexp:a,cfg:u.config.params[o],segment:e.substring(f,t.index),type:!a?null:r.type(a||"string")||n.inherit(r.type("string"),{pattern:new RegExp(a,u.config.caseInsensitive?"i":undefined)})}};var m,g;while(v=s.exec(e)){m=d(v,false);if(m.segment.indexOf("?")>=0)break;h(m.id);this._params.push(a.Param.fromPath(m.id,m.type,this.config.paramMap(m.cfg,false),r));this._segments.push(m.segment);p.push([m.segment,n.tail(this._params)]);f=s.lastIndex}g=e.substring(f);var y=g.indexOf("?");if(y>=0){var w=g.substring(y);g=g.substring(0,y);if(w.length>0){f=0;while(v=c.exec(w)){m=d(v,true);h(m.id);this._params.push(a.Param.fromSearch(m.id,m.type,this.config.paramMap(m.cfg,true),r));f=s.lastIndex}}}this._segments.push(g);n.extend(this,{_compiled:p.map(function(t){return l.apply(null,t)}).concat(l(g)),prefix:this._segments[0]});Object.freeze(this)}t.prototype.append=function(t){this._children.push(t);n.forEach(t._cache,function(e,r){return t._cache[r]=o.isArray(e)?[]:null});t._cache.path=this._cache.path.concat(this);return t};t.prototype.isRoot=function(){return this._cache.path.length===0};t.prototype.toString=function(){return this.pattern};t.prototype.exec=function(t,e,r,o){var a=this;if(e===void 0){e={}}if(o===void 0){o={}}var s=v(this._cache,"pattern",function(){return new RegExp(["^",n.unnest(a._cache.path.concat(a).map(i.prop("_compiled"))).join(""),a.config.strict===false?"/?":"","$"].join(""),a.config.caseInsensitive?"i":undefined)}).exec(t);if(!s)return null;var c=this.parameters(),f=c.filter(function(t){return!t.isSearch()}),l=c.filter(function(t){return t.isSearch()}),p=this._cache.path.concat(this).map(function(t){return t._segments.length-1}).reduce(function(t,e){return t+e}),h={};if(p!==s.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");function d(t){var e=function(t){return t.split("").reverse().join("")};var r=function(t){return t.replace(/\\-/g,"-")};var i=e(t).split(/-(?!\\)/);var o=n.map(i,e);return n.map(o,r).reverse()}for(var m=0;m<p;m++){var g=f[m];var y=s[m+1];for(var w=0;w<g.replace.length;w++){if(g.replace[w].from===y)y=g.replace[w].to}if(y&&g.array===true)y=d(y);if(u.isDefined(y))y=g.type.decode(y);h[g.id]=g.value(y)}l.forEach(function(t){var r=e[t.id];for(var n=0;n<t.replace.length;n++){if(t.replace[n].from===r)r=t.replace[n].to}if(u.isDefined(r))r=t.type.decode(r);h[t.id]=t.value(r)});if(r)h["#"]=r;return h};t.prototype.parameters=function(t){if(t===void 0){t={}}if(t.inherit===false)return this._params;return n.unnest(this._cache.path.concat(this).map(i.prop("_params")))};t.prototype.parameter=function(t,e){if(e===void 0){e={}}var r=n.tail(this._cache.path);return n.find(this._params,i.propEq("id",t))||e.inherit!==false&&r&&r.parameter(t)||null};t.prototype.validates=function(t){var e=this;var r=function(t,e){return!t||t.validates(e)};return n.pairs(t||{}).map(function(t){var n=t[0],i=t[1];return r(e.parameter(n),i)}).reduce(n.allTrueR,true)};t.prototype.format=function(e){if(e===void 0){e={}}if(!this.validates(e))return null;var r=this._cache.path.slice().concat(this);var i=r.map(t.pathSegmentsAndParams).reduce(c.unnestR,[]);var a=r.map(t.queryParams).reduce(c.unnestR,[]);function u(t){var r=t.value(e[t.id]);var n=t.isDefaultValue(r);var i=n?t.squash:false;var o=t.type.encode(r);return{param:t,value:r,isDefaultValue:n,squash:i,encoded:o}}var s=i.reduce(function(e,r){if(o.isString(r))return e+r;var i=u(r),a=i.squash,s=i.encoded,c=i.param;if(a===true)return e.match(/\/$/)?e.slice(0,-1):e;if(o.isString(a))return e+a;if(a!==false)return e;if(s==null)return e;if(o.isArray(s))return e+n.map(s,t.encodeDashes).join("-");if(c.type.raw)return e+s;return e+encodeURIComponent(s)},"");var f=a.map(function(t){var e=u(t),r=e.squash,i=e.encoded,a=e.isDefaultValue;if(i==null||a&&r!==false)return;if(!o.isArray(i))i=[i];if(i.length===0)return;if(!t.type.raw)i=n.map(i,encodeURIComponent);return i.map(function(e){return t.id+"="+e})}).filter(n.identity).reduce(c.unnestR,[]).join("&");return s+(f?"?"+f:"")+(e["#"]?"#"+e["#"]:"")};t.encodeDashes=function(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})};t.pathSegmentsAndParams=function(t){var e=t._segments;var r=t._params.filter(function(t){return t.location===s.DefType.PATH});return f.arrayTuples(e,r.concat(undefined)).reduce(c.unnestR,[]).filter(function(t){return t!==""&&u.isDefined(t)})};t.queryParams=function(t){return t._params.filter(function(t){return t.location===s.DefType.SEARCH})};t.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/;return t}();e.UrlMatcher=p},function(t,e,r){"use strict";var n=r(3);var i=r(4);var o=r(5);var a=r(6);var u=r(24);function s(t){return t!=null?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t}function c(t){return t!=null?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t}var f=function(){function t(){this.enqueue=true;this.typeQueue=[];this.defaultTypes={hash:{encode:s,decode:c,is:o.is(String),pattern:/.*/,equals:function(t,e){return t==e}},string:{encode:s,decode:c,is:o.is(String),pattern:/[^\/]*/},int:{encode:s,decode:function(t){return parseInt(t,10)},is:function(t){return i.isDefined(t)&&this.decode(t.toString())===t},pattern:/-?\d+/},bool:{encode:function(t){return t&&1||0},decode:function(t){return parseInt(t,10)!==0},is:o.is(Boolean),pattern:/0|1/},date:{encode:function(t){return!this.is(t)?undefined:[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-")},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):undefined},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return["getFullYear","getMonth","getDate"].reduce(function(r,n){return r&&t[n]()===e[n]()},true)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:n.toJson,decode:n.fromJson,is:o.is(Object),equals:n.equals,pattern:/[^\/]*/},any:{encode:n.identity,decode:n.identity,equals:n.equals,pattern:/.*/}};var t=function(t,e){return new u.ParamType(n.extend({name:e},t))};this.types=n.inherit(n.map(this.defaultTypes,t),{})}t.prototype.type=function(t,e,r){if(!i.isDefined(e))return this.types[t];if(this.types.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");this.types[t]=new u.ParamType(n.extend({name:t},e));if(r){this.typeQueue.push({name:t,def:r});if(!this.enqueue)this._flushTypeQueue()}return this};t.prototype._flushTypeQueue=function(){while(this.typeQueue.length){var t=this.typeQueue.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");n.extend(this.types[t.name],a.services.$injector.invoke(t.def))}};return t}();e.ParamTypes=f},function(t,e,r){"use strict";var n=r(3);var i=r(4);var o=r(6);var a=o.services.location;function u(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return e!=null?e[1].replace(/\\(.)/g,"$1"):""}function s(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,r){return e[r==="$"?0:Number(r)]})}function c(t,e,r,n){if(!n)return false;var o=t.invoke(r,r,{$match:n,$stateParams:e});return i.isDefined(o)?o:true}function f(t,e,r){var n=o.services.locationConfig.baseHref();if(n==="/")return t;if(e)return n.slice(0,-1)+t;if(r)return n.slice(1)+t;return t}function l(t,e,r){if(r&&r.defaultPrevented)return;function n(t){var e=t(o.services.$injector,a);if(!e)return false;if(i.isString(e)){a.setUrl(e,true)}return true}var u=t.length;for(var s=0;s<u;s++){if(n(t[s]))return}if(e)n(e)}var v=function(){function t(t,e){this.rules=[];this.interceptDeferred=false;this.$urlMatcherFactory=t;this.$stateParams=e}t.prototype.rule=function(t){if(!i.isFunction(t))throw new Error("'rule' must be a function");this.rules.push(t);return this};t.prototype.removeRule=function(t){return this.rules.length!==n.removeFrom(this.rules,t).length};t.prototype.otherwise=function(t){if(!i.isFunction(t)&&!i.isString(t))throw new Error("'rule' must be a string or function");this.otherwiseFn=i.isString(t)?function(){return t}:t;return this};t.prototype.when=function(t,e,r){if(r===void 0){r=function(t){}}var f=this,l=f.$urlMatcherFactory,v=f.$stateParams;var p,h=i.isString(e);if(i.isString(t))t=l.compile(t);if(!h&&!i.isFunction(e)&&!i.isArray(e))throw new Error("invalid 'handler' in when()");var d={matcher:function(t,e){if(h){p=l.compile(e);e=["$match",p.format.bind(p)]}return n.extend(function(){return c(o.services.$injector,v,e,t.exec(a.path(),a.search(),a.hash()))},{prefix:i.isString(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");if(h){p=e;e=["$match",function(t){return s(p,t)}]}return n.extend(function(){return c(o.services.$injector,v,e,t.exec(a.path()))},{prefix:u(t)})}};var m={matcher:l.isMatcher(t),regex:t instanceof RegExp};for(var g in m){if(m[g]){var y=d[g](t,e);r(y);return this.rule(y)}}throw new Error("invalid 'what' in when()")};t.prototype.deferIntercept=function(t){if(t===undefined)t=true;this.interceptDeferred=t};return t}();e.UrlRouterProvider=v;var p=function(){function t(e){this.urlRouterProvider=e;n.bindFunctions(t.prototype,this,this)}t.prototype.sync=function(){l(this.urlRouterProvider.rules,this.urlRouterProvider.otherwiseFn)};t.prototype.listen=function(){var t=this;return this.listener=this.listener||a.onChange(function(e){return l(t.urlRouterProvider.rules,t.urlRouterProvider.otherwiseFn,e)})};t.prototype.update=function(t){if(t){this.location=a.path();return}if(a.path()===this.location)return;a.setUrl(this.location,true)};t.prototype.push=function(t,e,r){var n=r&&!!r.replace;a.setUrl(t.format(e||{}),n)};t.prototype.href=function(t,e,r){if(!t.validates(e))return null;var n=t.format(e);r=r||{absolute:false};var i=o.services.locationConfig;var a=i.html5Mode();if(!a&&n!==null){n="#"+i.hashPrefix()+n}n=f(n,a,r.absolute);if(!r.absolute||!n){return n}var u=!a&&n?"/":"",s=i.port();s=s===80||s===443?"":":"+s;return[i.protocol(),"://",i.host(),s,u,n].join("")};return t}();e.UrlRouter=p},function(t,e,r){"use strict";var n=r(11);var i=r(15);var o=r(31);var a=r(32);var u=r(33);var s=r(34);var c=r(35);var f=r(36);e.defaultTransOpts={location:true,relative:null,inherit:false,notify:true,reload:false,custom:{},current:function(){return null},source:"unknown"};var l=function(){function t(t){this._router=t;this.$view=t.viewService;i.HookRegistry.mixin(new i.HookRegistry,this);this._deregisterHookFns={};this.registerTransitionHooks()}t.prototype.registerTransitionHooks=function(){var t=this._deregisterHookFns;t.redirectTo=s.registerRedirectToHook(this);t.onExit=c.registerOnExitHook(this);t.onRetain=c.registerOnRetainHook(this);t.onEnter=c.registerOnEnterHook(this);t.eagerResolve=o.registerEagerResolvePath(this);t.lazyResolve=o.registerLazyResolveState(this);t.loadViews=a.registerLoadEnteringViews(this);t.activateViews=a.registerActivateViews(this);t.updateUrl=u.registerUpdateUrl(this);t.lazyLoad=f.registerLazyLoadHook(this)};t.prototype.onBefore=function(t,e,r){throw""};t.prototype.onStart=function(t,e,r){throw""};t.prototype.onExit=function(t,e,r){throw""};t.prototype.onRetain=function(t,e,r){throw""};t.prototype.onEnter=function(t,e,r){throw""};t.prototype.onFinish=function(t,e,r){throw""};t.prototype.onSuccess=function(t,e,r){throw""};t.prototype.onError=function(t,e,r){throw""};t.prototype.create=function(t,e){return new n.Transition(t,e,this._router)};return t}();e.TransitionService=l},function(t,e,r){"use strict";var n=r(3);var i=r(17);var o=r(5);var a=function(t){return new i.ResolveContext(t.treeChanges().to).resolvePath("EAGER",t).then(n.noop)};e.registerEagerResolvePath=function(t){return t.onStart({},a,{priority:1e3})};var u=function(t,e){return new i.ResolveContext(t.treeChanges().to).subContext(e).resolvePath("LAZY",t).then(n.noop)};e.registerLazyResolveState=function(t){return t.onEnter({entering:o.val(true)},u,{priority:1e3})}},function(t,e,r){"use strict";var n=r(3);var i=r(6);var o=function(t){var e=t.views("entering");if(!e.length)return;return i.services.$q.all(e.map(function(t){return t.load()})).then(n.noop)};e.registerLoadEnteringViews=function(t){return t.onStart({},o)};var a=function(t){var e=t.views("entering");var r=t.views("exiting");if(!e.length&&!r.length)return;var n=t.router.viewService;r.forEach(function(t){return n.deactivateViewConfig(t)});e.forEach(function(t){return n.activateViewConfig(t)});n.sync()};e.registerActivateViews=function(t){return t.onSuccess({},a)}},function(t,e){"use strict";var r=function(t){var e=t.options();var r=t.router.stateService;var n=t.router.urlRouter;if(e.source!=="url"&&e.location&&r.$current.navigable){var i={replace:e.location==="replace"};n.push(r.$current.navigable.url,r.params,i)}n.update(true)};e.registerUpdateUrl=function(t){return t.onSuccess({},r,{priority:9999})}},function(t,e,r){"use strict";var n=r(4);var i=r(6);var o=r(14);var a=function(t){var e=t.to().redirectTo;if(!e)return;function r(e){var r=t.router.stateService;if(e instanceof o.TargetState)return e;if(n.isString(e))return r.target(e,t.params(),t.options());if(e["state"]||e["params"])return r.target(e["state"]||t.to(),e["params"]||t.params(),t.options())}if(n.isFunction(e)){return i.services.$q.when(e(t)).then(r)}return r(e)};e.registerRedirectToHook=function(t){return t.onStart({to:function(t){return!!t.redirectTo}},a)}},function(t,e){"use strict";function r(t){return function(e,r){var n=r[t];return n(e,r)}}var n=r("onExit");e.registerOnExitHook=function(t){return t.onExit({exiting:function(t){return!!t.onExit}},n)};var i=r("onRetain");e.registerOnRetainHook=function(t){return t.onRetain({retained:function(t){return!!t.onRetain}},i)};var o=r("onEnter");e.registerOnEnterHook=function(t){return t.onEnter({entering:function(t){return!!t.onEnter}},o)}},function(t,e,r){"use strict";var n=r(6);var i=function(t){var e=t.to();var r=t.router.stateRegistry;function i(){if(t.options().source==="url"){var e=n.services.location,i=e.path(),o=e.search(),a=e.hash();var u=function(t){return[t,t.url&&t.url.exec(i,o,a)]};var s=r.get().map(function(t){return t.$$state()}).map(u).filter(function(t){var e=t[0],r=t[1];return!!r});if(s.length){var c=s[0],f=c[0],l=c[1];return t.router.stateService.target(f,l,t.options())}t.router.urlRouter.sync()}var v=t.targetState();return t.router.stateService.target(v.identifier(),v.params(),v.options())}function o(e){r.deregister(t.$to());if(e&&Array.isArray(e.states)){e.states.forEach(function(t){return r.register(t)})}}var a=e.lazyLoad;var u=a["_promise"];if(!u){u=a["_promise"]=a(t).then(o);var s=function(){return delete a["_promise"]};u.then(s,s)}return u.then(i)};e.registerLazyLoadHook=function(t){return t.onBefore({to:function(t){return!!t.lazyLoad}},i)}},function(t,e,r){"use strict";var n=r(3);var i=r(5);var o=r(4);var a=r(12);var u=function(){function t(){var t=this;this.uiViews=[];this.viewConfigs=[];this._viewConfigFactories={};this.sync=function(){var e=t.uiViews.map(function(t){return[t.fqn,t]}).reduce(n.applyPairs,{});var r=function(t){return function(r){if(t.$type!==r.viewDecl.$type)return false;var i=r.viewDecl;var o=i.$uiViewName.split(".");var a=t.fqn.split(".");if(!n.equals(o,a.slice(0-o.length)))return false;var u=1-o.length||undefined;var s=a.slice(0,u).join(".");var c=e[s].creationContext;return i.$uiViewContextAnchor===(c&&c.name)}};function o(t){return t.fqn.split(".").length;
}function a(t){var e=t.viewDecl.$context,r=0;while(++r&&e.parent)e=e.parent;return r}var u=i.curry(function(t,e,r,n){return e*(t(r)-t(n))});var s=function(e){var n=t.viewConfigs.filter(r(e));if(n.length>1)n.sort(u(a,-1));return[e,n[0]]};var c=function(e){var r=e[0],n=e[1];if(t.uiViews.indexOf(r)!==-1)r.configUpdated(n)};t.uiViews.sort(u(o,1)).map(s).forEach(c)}}t.prototype.rootContext=function(t){return this._rootContext=t||this._rootContext};t.prototype.viewConfigFactory=function(t,e){this._viewConfigFactories[t]=e};t.prototype.createViewConfig=function(t,e){var r=this._viewConfigFactories[e.$type];if(!r)throw new Error("ViewService: No view config factory registered for type "+e.$type);var n=r(t,e);return o.isArray(n)?n:[n]};t.prototype.deactivateViewConfig=function(t){a.trace.traceViewServiceEvent("<- Removing",t);n.removeFrom(this.viewConfigs,t)};t.prototype.activateViewConfig=function(t){a.trace.traceViewServiceEvent("-> Registering",t);this.viewConfigs.push(t)};t.prototype.registerUIView=function(t){a.trace.traceViewServiceUIViewEvent("-> Registering",t);var e=this.uiViews;var r=function(e){return e.fqn===t.fqn};if(e.filter(r).length)a.trace.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t);e.push(t);this.sync();return function(){var r=e.indexOf(t);if(r===-1){a.trace.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t);return}a.trace.traceViewServiceUIViewEvent("<- Deregistering",t);n.removeFrom(e)(t)}};t.prototype.available=function(){return this.uiViews.map(i.prop("fqn"))};t.prototype.active=function(){return this.uiViews.filter(i.prop("$config")).map(i.prop("name"))};t.normalizeUIViewTarget=function(t,e){if(e===void 0){e=""}var r=e.split("@");var n=r[0]||"$default";var i=o.isString(r[1])?r[1]:"^";var a=/^(\^(?:\.\^)*)\.(.*$)/.exec(n);if(a){i=a[1];n=a[2]}if(n.charAt(0)==="!"){n=n.substr(1);i=""}var u=/^(\^(?:\.\^)*)$/;if(u.exec(i)){var s=i.split(".").reduce(function(t,e){return t.parent},t);i=s.name}return{uiViewName:n,uiViewContextAnchor:i}};return t}();e.ViewService=u},function(t,e,r){"use strict";var n=r(39);var i=r(40);var o=r(41);var a=r(3);var u=function(){function t(t,e){this.urlRouterProvider=e;this.states={};this.listeners=[];this.matcher=new n.StateMatcher(this.states);this.builder=new i.StateBuilder(this.matcher,t);this.stateQueue=new o.StateQueueManager(this.states,this.builder,e,this.listeners);var r={name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:true}},abstract:true};var a=this._root=this.stateQueue.register(r);a.navigable=null}t.prototype.onStatesChanged=function(t){this.listeners.push(t);return function e(){a.removeFrom(this.listeners)(t)}.bind(this)};t.prototype.root=function(){return this._root};t.prototype.register=function(t){return this.stateQueue.register(t)};t.prototype._deregisterTree=function(t){var e=this;var r=this.get().map(function(t){return t.$$state()});var n=function(t){var e=r.filter(function(e){return t.indexOf(e.parent)!==-1});return e.length===0?e:e.concat(n(e))};var i=n([t]);var o=[t].concat(i).reverse();o.forEach(function(t){e.urlRouterProvider.removeRule(t._urlRule);delete e.states[t.name]});return o};t.prototype.deregister=function(t){var e=this.get(t);if(!e)throw new Error("Can't deregister state; not found: "+t);var r=this._deregisterTree(e.$$state());this.listeners.forEach(function(t){return t("deregistered",r.map(function(t){return t.self}))});return r};t.prototype.get=function(t,e){var r=this;if(arguments.length===0)return Object.keys(this.states).map(function(t){return r.states[t].self});var n=this.matcher.find(t,e);return n&&n.self||null};t.prototype.decorator=function(t,e){return this.builder.builder(t,e)};return t}();e.StateRegistry=u},function(t,e,r){"use strict";var n=r(4);var i=r(7);var o=r(3);var a=function(){function t(t){this._states=t}t.prototype.isRelative=function(t){t=t||"";return t.indexOf(".")===0||t.indexOf("^")===0};t.prototype.find=function(t,e){if(!t&&t!=="")return undefined;var r=n.isString(t);var a=r?t:t.name;if(this.isRelative(a))a=this.resolvePath(a,e);var u=this._states[a];if(u&&(r||!r&&(u===t||u.self===t))){return u}else if(r){var s=o.values(this._states).filter(function(t){return new i.Glob(t.name).matches(a)});if(s.length>1){console.log("stateMatcher.find: Found multiple matches for "+a+" using glob: ",s.map(function(t){return t.name}))}return s[0]}return undefined};t.prototype.resolvePath=function(t,e){if(!e)throw new Error("No reference point given for path '"+t+"'");var r=this.find(e);var n=t.split("."),i=0,o=n.length,a=r;for(;i<o;i++){if(n[i]===""&&i===0){a=r;continue}if(n[i]==="^"){if(!a.parent)throw new Error("Path '"+t+"' not valid for state '"+r.name+"'");a=a.parent;continue}break}var u=n.slice(i).join(".");return a.name+(a.name&&u?".":"")+u};return t}();e.StateMatcher=a},function(t,e,r){"use strict";var n=r(3);var i=r(4);var o=r(9);var a=r(5);var u=r(22);var s=r(19);var c=r(6);var f=function(t){if(!i.isString(t))return false;var e=t.charAt(0)==="^";return{val:e?t.substring(1):t,root:e}};function l(t){if(t.lazyLoad)t.name=t.self.name+".**";return t.name}function v(t){t.self.$$state=function(){return t};return t.self}function p(t){if(t.parent&&t.parent.data){t.data=t.self.data=n.inherit(t.parent.data,t.data)}return t.data}var h=function(t,e){return function r(i){var o=i;if(o&&o.url&&o.lazyLoad){o.url+="{remainder:any}"}var a=f(o.url),u=i.parent;var s=!a?o.url:t.compile(a.val,{params:i.params||{},paramMap:function(t,e){if(o.reloadOnSearch===false&&e)t=n.extend(t||{},{dynamic:true});return t}});if(!s)return null;if(!t.isMatcher(s))throw new Error("Invalid url '"+s+"' in state '"+i+"'");return a&&a.root?s:(u&&u.navigable||e()).url.append(s)}};var d=function(t){return function e(r){return!t(r)&&r.url?r:r.parent?r.parent.navigable:null}};var m=function(t){return function e(r){var i=function(e,r){return u.Param.fromConfig(r,null,e,t)};var o=r.url&&r.url.parameters({inherit:false})||[];var s=n.values(n.mapObj(n.omit(r.params||{},o.map(a.prop("id"))),i));return o.concat(s).map(function(t){return[t.id,t]}).reduce(n.applyPairs,{})}};function g(t){return t.parent?t.parent.path.concat(t):[t]}function y(t){var e=t.parent?n.extend({},t.parent.includes):{};e[t.name]=true;return e}function w(t){var e=function(t,e){return Object.keys(t||{}).map(function(r){return{token:r,val:t[r],deps:undefined,policy:e[r]}})};var r=function(t){return t["$inject"]||c.services.$injector.annotate(t,c.services.$injector.strictDi)};var u=function(t){return!!(t.token&&t.resolveFn)};var f=function(t){return!!((t.provide||t.token)&&(t.useValue||t.useFactory||t.useExisting||t.useClass))};var l=function(t){return!!(t&&t.val&&(i.isString(t.val)||i.isArray(t.val)||i.isFunction(t.val)))};var v=function(t){return t.provide||t.token};var p=a.pattern([[a.prop("resolveFn"),function(t){return new s.Resolvable(v(t),t.resolveFn,t.deps,t.policy)}],[a.prop("useFactory"),function(t){return new s.Resolvable(v(t),t.useFactory,t.deps||t.dependencies,t.policy)}],[a.prop("useClass"),function(t){return new s.Resolvable(v(t),function(){return new t.useClass},[],t.policy)}],[a.prop("useValue"),function(t){return new s.Resolvable(v(t),function(){return t.useValue},[],t.policy,t.useValue)}],[a.prop("useExisting"),function(t){return new s.Resolvable(v(t),n.identity,[t.useExisting],t.policy)}]]);var h=a.pattern([[a.pipe(a.prop("val"),i.isString),function(t){return new s.Resolvable(t.token,n.identity,[t.val],t.policy)}],[a.pipe(a.prop("val"),i.isArray),function(t){return new s.Resolvable(t.token,n.tail(t.val),t.val.slice(0,-1),t.policy)}],[a.pipe(a.prop("val"),i.isFunction),function(t){return new s.Resolvable(t.token,t.val,r(t.val),t.policy)}]]);var d=a.pattern([[a.is(s.Resolvable),function(t){return t}],[u,p],[f,p],[l,h],[a.val(true),function(t){throw new Error("Invalid resolve value: "+o.stringify(t))}]]);var m=t.resolve;var g=i.isArray(m)?m:e(m,t.resolvePolicy||{});return g.map(d)}e.resolvablesBuilder=w;var b=function(){function t(t,e){this.matcher=t;var r=this;var n=function(){return t.find("")};var i=function(t){return t.name===""};function o(e){if(i(e))return null;return t.find(r.parentName(e))||n()}this.builders={name:[l],self:[v],parent:[o],data:[p],url:[h(e,n)],navigable:[d(i)],params:[m(e.paramTypes)],views:[],path:[g],includes:[y],resolvables:[w]}}t.prototype.builder=function(t,e){var r=this.builders;var n=r[t]||[];if(i.isString(t)&&!i.isDefined(e))return n.length>1?n:n[0];if(!i.isString(t)||!i.isFunction(e))return;r[t]=n;r[t].push(e);return function(){return r[t].splice(r[t].indexOf(e,1))&&null}};t.prototype.build=function(t){var e=this,r=e.matcher,i=e.builders;var o=this.parentName(t);if(o&&!r.find(o))return null;for(var a in i){if(!i.hasOwnProperty(a))continue;var u=i[a].reduce(function(t,e){return function(r){return e(r,t)}},n.noop);t[a]=u(t)}return t};t.prototype.parentName=function(t){var e=t.name||"";var r=e.split(".");if(r.length>1){if(t.parent){throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+e+")")}var n=r.pop();if(n==="**")r.pop();return r.join(".")}if(!t.parent)return"";return i.isString(t.parent)?t.parent:t.parent.name};t.prototype.name=function(t){var e=t.name;if(e.indexOf(".")!==-1||!t.parent)return e;var r=i.isString(t.parent)?t.parent:t.parent.name;return r?r+"."+e:e};return t}();e.StateBuilder=b},function(t,e,r){"use strict";var n=r(3);var i=r(4);var o=r(42);var a=function(){function t(t,e,r,n){this.states=t;this.builder=e;this.$urlRouterProvider=r;this.listeners=n;this.queue=[]}t.prototype.register=function(t){var e=this,r=e.states,a=e.queue,u=e.$state;var s=n.inherit(new o.State,n.extend({},t,{self:t,resolve:t.resolve||[],toString:function(){return t.name}}));if(!i.isString(s.name))throw new Error("State must have a valid name");if(r.hasOwnProperty(s.name)||n.pluck(a,"name").indexOf(s.name)!==-1)throw new Error("State '"+s.name+"' is already defined");a.push(s);if(this.$state){this.flush(u)}return s};t.prototype.flush=function(t){var e=this,r=e.queue,n=e.states,i=e.builder;var o=[],a=[],u={};while(r.length>0){var s=r.shift();var c=i.build(s);var f=a.indexOf(s);if(c){if(n.hasOwnProperty(s.name))throw new Error("State '"+name+"' is already defined");n[s.name]=s;this.attachRoute(t,s);if(f>=0)a.splice(f,1);o.push(s);continue}var l=u[s.name];u[s.name]=r.length;if(f>=0&&l===r.length){r.push(s);return n}else if(f<0){a.push(s)}r.push(s)}if(o.length){this.listeners.forEach(function(t){return t("registered",o.map(function(t){return t.self}))})}return n};t.prototype.autoFlush=function(t){this.$state=t;this.flush(t)};t.prototype.attachRoute=function(t,e){var r=this.$urlRouterProvider;if(e.abstract||!e.url)return;r.when(e.url,["$match","$stateParams",function(r,i){if(t.$current.navigable!==e||!n.equalForKeys(r,i)){t.transitionTo(e,r,{inherit:true,source:"url"})}}],function(t){return e._urlRule=t})};return t}();e.StateQueueManager=a},function(t,e,r){"use strict";var n=r(3);var i=r(5);var o=function(){function t(t){n.extend(this,t)}t.prototype.is=function(t){return this===t||this.self===t||this.fqn()===t};t.prototype.fqn=function(){if(!this.parent||!(this.parent instanceof this.constructor))return this.name;var t=this.parent.fqn();return t?t+"."+this.name:this.name};t.prototype.root=function(){return this.parent&&this.parent.root()||this};t.prototype.parameters=function(t){t=n.defaults(t,{inherit:true});var e=t.inherit&&this.parent&&this.parent.parameters()||[];return e.concat(n.values(this.params))};t.prototype.parameter=function(t,e){if(e===void 0){e={}}return this.url&&this.url.parameter(t,e)||n.find(n.values(this.params),i.propEq("id",t))||e.inherit&&this.parent&&this.parent.parameter(t)};t.prototype.toString=function(){return this.fqn()};return t}();e.State=o},function(t,e,r){"use strict";var n=r(3);var i=r(4);var o=r(8);var a=r(6);var u=r(20);var s=r(21);var c=r(30);var f=r(10);var l=r(14);var v=r(22);var p=r(7);var h=r(3);var d=r(3);var m=r(17);var g=function(){function t(e){this.router=e;this.invalidCallbacks=[];this._defaultErrorHandler=function t(e){if(e instanceof Error&&e.stack){console.error(e);console.error(e.stack)}else if(e instanceof f.Rejection){console.error(e.toString());if(e.detail&&e.detail.stack)console.error(e.detail.stack)}else{console.error(e)}};var r=["current","$current","params","transition"];var n=Object.keys(t.prototype).filter(function(t){return r.indexOf(t)===-1});d.bindFunctions(t.prototype,this,this,n)}Object.defineProperty(t.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"params",{get:function(){return this.router.globals.params},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"current",{get:function(){return this.router.globals.current},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:true,configurable:true});t.prototype._handleInvalidTargetState=function(t,e){var r=this;var n=u.PathFactory.makeTargetState(t);var i=this.router.globals;var s=function(){return i.transitionHistory.peekTail()};var c=s();var v=new o.Queue(this.invalidCallbacks.slice());var p=new m.ResolveContext(t).injector();var h=function(t){if(!(t instanceof l.TargetState)){return}var e=t;e=r.target(e.identifier(),e.params(),e.options());if(!e.valid())return f.Rejection.invalid(e.error()).toPromise();if(s()!==c)return f.Rejection.superseded().toPromise();return r.transitionTo(e.identifier(),e.params(),e.options())};function d(){var t=v.dequeue();if(t===undefined)return f.Rejection.invalid(e.error()).toPromise();var r=a.services.$q.when(t(e,n,p));return r.then(h).then(function(t){return t||d()})}return d()};t.prototype.onInvalid=function(t){this.invalidCallbacks.push(t);return function e(){n.removeFrom(this.invalidCallbacks)(t)}.bind(this)};t.prototype.reload=function(t){return this.transitionTo(this.current,this.params,{reload:i.isDefined(t)?t:true,inherit:false,notify:false})};t.prototype.go=function(t,e,r){var i={relative:this.$current,inherit:true};var o=n.defaults(r,i,c.defaultTransOpts);return this.transitionTo(t,e,o)};t.prototype.target=function(t,e,r){if(r===void 0){r={}}if(i.isObject(r.reload)&&!r.reload.name)throw new Error("Invalid reload state object");var n=this.router.stateRegistry;r.reloadState=r.reload===true?n.root():n.matcher.find(r.reload,r.relative);if(r.reload&&!r.reloadState)throw new Error("No such reload state '"+(i.isString(r.reload)?r.reload:r.reload.name)+"'");var o=n.matcher.find(t,r.relative);return new l.TargetState(t,o,e,r)};t.prototype.transitionTo=function(t,e,r){var i=this;if(e===void 0){e={}}if(r===void 0){r={}}var o=this.router;var u=o.globals;var v=u.transitionHistory;r=n.defaults(r,c.defaultTransOpts);r=n.extend(r,{current:v.peekTail.bind(v)});var p=this.target(t,e,r);var h=u.successfulTransitions.peekTail();var d=function(){return[new s.PathNode(i.router.stateRegistry.root())]};var m=h?h.treeChanges().to:d();if(!p.exists())return this._handleInvalidTargetState(m,p);if(!p.valid())return n.silentRejection(p.error());var g=function(t){return function(e){if(e instanceof f.Rejection){if(e.type===f.RejectType.IGNORED){o.urlRouter.update();return a.services.$q.when(u.current)}var r=e.detail;if(e.type===f.RejectType.SUPERSEDED&&e.redirected&&r instanceof l.TargetState){var n=t.redirect(r);return n.run().catch(g(n))}if(e.type===f.RejectType.ABORTED){o.urlRouter.update()}}var s=i.defaultErrorHandler();s(e);return a.services.$q.reject(e)}};var y=this.router.transitionService.create(m,p);var w=y.run().catch(g(y));n.silenceUncaughtInPromise(w);return n.extend(w,{transition:y})};t.prototype.is=function(t,e,r){r=n.defaults(r,{relative:this.$current});var o=this.router.stateRegistry.matcher.find(t,r.relative);if(!i.isDefined(o))return undefined;if(this.$current!==o)return false;return i.isDefined(e)&&e!==null?v.Param.equals(o.parameters(),this.params,e):true};t.prototype.includes=function(t,e,r){r=n.defaults(r,{relative:this.$current});var o=i.isString(t)&&p.Glob.fromString(t);if(o){if(!o.matches(this.$current.name))return false;t=this.$current.name}var a=this.router.stateRegistry.matcher.find(t,r.relative),u=this.$current.includes;if(!i.isDefined(a))return undefined;if(!i.isDefined(u[a.name]))return false;return e?h.equalForKeys(v.Param.values(a.parameters(),e),this.params,Object.keys(e)):true};t.prototype.href=function(t,e,r){var o={lossy:true,inherit:true,absolute:false,relative:this.$current};r=n.defaults(r,o);e=e||{};var a=this.router.stateRegistry.matcher.find(t,r.relative);if(!i.isDefined(a))return null;if(r.inherit)e=this.params.$inherit(e,this.$current,a);var u=a&&r.lossy?a.navigable:a;if(!u||u.url===undefined||u.url===null){return null}return this.router.urlRouter.href(u.url,v.Param.values(a.parameters(),e),{absolute:r.absolute})};t.prototype.defaultErrorHandler=function(t){return this._defaultErrorHandler=t||this._defaultErrorHandler};t.prototype.get=function(t,e){var r=this.router.stateRegistry;if(arguments.length===0)return r.get();return r.get(t,e||this.$current)};return t}();e.StateService=g},function(t,e,r){"use strict";var n=r(45);var i=r(8);var o=r(3);var a=function(){function t(t){var e=this;this.params=new n.StateParams;this.transitionHistory=new i.Queue([],1);this.successfulTransitions=new i.Queue([],1);var r=function(t){e.transition=t;e.transitionHistory.enqueue(t);var r=function(){e.successfulTransitions.enqueue(t);e.$current=t.$to();e.current=e.$current.self;o.copy(t.params(),e.params)};t.onSuccess({},r,{priority:1e4});var n=function(){if(e.transition===t)e.transition=null};t.promise.then(n,n)};t.onBefore({},r)}return t}();e.Globals=a},function(t,e,r){"use strict";var n=r(3);var i=function(){function t(t){if(t===void 0){t={}}n.extend(this,t)}t.prototype.$inherit=function(t,e,r){var i=n.ancestors(e,r),o,a={},u=[];for(var s in i){if(!i[s]||!i[s].params)continue;o=Object.keys(i[s].params);if(!o.length)continue;for(var c in o){if(u.indexOf(o[c])>=0)continue;u.push(o[c]);a[o[c]]=this[o[c]]}}return n.extend({},a,t)};return t}();e.StateParams=i},function(t,e,r){"use strict";function n(t){for(var r in t)if(!e.hasOwnProperty(r))e[r]=t[r]}n(r(22));n(r(28));n(r(45));n(r(24))},function(t,e,r){"use strict";function n(t){for(var r in t)if(!e.hasOwnProperty(r))e[r]=t[r]}n(r(21));n(r(20))},function(t,e,r){"use strict";function n(t){for(var r in t)if(!e.hasOwnProperty(r))e[r]=t[r]}n(r(18));n(r(19));n(r(17))},function(t,e,r){"use strict";function n(t){for(var r in t)if(!e.hasOwnProperty(r))e[r]=t[r]}n(r(40));n(r(42));n(r(39));n(r(41));n(r(38));n(r(43));n(r(14))},function(t,e,r){"use strict";function n(t){for(var r in t)if(!e.hasOwnProperty(r))e[r]=t[r]}n(r(16));n(r(15));n(r(10));n(r(11));n(r(13));n(r(30))},function(t,e,r){"use strict";function n(t){for(var r in t)if(!e.hasOwnProperty(r))e[r]=t[r]}n(r(27));n(r(23));n(r(26));n(r(29))},function(t,e,r){"use strict";function n(t){for(var r in t)if(!e.hasOwnProperty(r))e[r]=t[r]}n(r(37))},function(t,e,r){"use strict";var n=r(25);var i=r(6);var o=r(3);var a=r(5);var u=r(4);var s=r(54);var c=r(12);var f=r(55);var l=r(56);var v=r(58);var p=r(59);var h=r(57);var d=h.module("ui.router.angular1",[]);h.module("ui.router.util",["ng","ui.router.init"]);h.module("ui.router.router",["ui.router.util"]);h.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]);h.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]);h.module("ui.router.compat",["ui.router"]);function m(t){var e=i.services.$injector;var r=e.get("$controller");var n=e.instantiate;try{var o;e.instantiate=function t(r){e.instantiate=n;o=e.annotate(r)};r(t,{$scope:{}});return o}finally{e.instantiate=n}}e.annotateController=m;var g=null;y.$inject=["$locationProvider"];function y(t){g=new n.UIRouter;g.stateProvider=new v.StateProvider(g.stateRegistry,g.stateService);g.stateRegistry.decorator("views",f.ng1ViewsBuilder);g.stateRegistry.decorator("onExit",p.getStateHookBuilder("onExit"));g.stateRegistry.decorator("onRetain",p.getStateHookBuilder("onRetain"));g.stateRegistry.decorator("onEnter",p.getStateHookBuilder("onEnter"));g.viewService.viewConfigFactory("ng1",f.ng1ViewConfigFactory);o.bindFunctions(t,i.services.locationConfig,t,["hashPrefix"]);var e=[];i.services.location.onChange=function(t){e.push(t);return function(){return o.removeFrom(e)(t)}};this.$get=r;r.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"];function r(r,n,s,c,f,l){c.$on("$locationChangeSuccess",function(t){return e.forEach(function(e){return e(t)})});i.services.locationConfig.html5Mode=function(){var e=t.html5Mode();e=u.isObject(e)?e.enabled:e;return e&&s.history};i.services.location.setUrl=function(t,e){if(e===void 0){e=false}r.url(t);if(e)r.replace()};i.services.template.get=function(t){return f.get(t,{cache:l,headers:{Accept:"text/html"}}).then(a.prop("data"))};o.bindFunctions(r,i.services.location,r,["replace","url","path","search","hash"]);o.bindFunctions(r,i.services.locationConfig,r,["port","protocol","host"]);o.bindFunctions(n,i.services.locationConfig,n,["baseHref"]);return g}}h.module("ui.router.init",[]).provider("$uiRouter",y);w.$inject=["$injector","$q"];function w(t,e){i.services.$injector=t;i.services.$q=e}h.module("ui.router.init").run(w);h.module("ui.router.init").run(["$uiRouter",function(t){}]);h.module("ui.router.util").provider("$urlMatcherFactory",["$uiRouterProvider",function(){return g.urlMatcherFactory}]);h.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]);function b(){g.urlRouterProvider["$get"]=function(){g.urlRouter.update(true);if(!this.interceptDeferred)g.urlRouter.listen();return g.urlRouter};return g.urlRouterProvider}h.module("ui.router.router").provider("$urlRouter",["$uiRouterProvider",b]);h.module("ui.router.router").run(["$urlRouter",function(t){}]);function $(){g.stateProvider["$get"]=function(){g.stateRegistry.stateQueue.autoFlush(g.stateService);return g.stateService};return g.stateProvider}h.module("ui.router.state").provider("$state",["$uiRouterProvider",$]);h.module("ui.router.state").run(["$state",function(t){}]);h.module("ui.router.state").factory("$stateParams",["$uiRouter",function(t){return t.globals.params}]);function S(){g.transitionService["$get"]=function(){return g.transitionService};return g.transitionService}h.module("ui.router.state").provider("$transitions",["$uiRouterProvider",S]);h.module("ui.router.util").factory("$templateFactory",["$uiRouter",function(){return new l.TemplateFactory}]);h.module("ui.router").factory("$view",function(){return g.viewService});h.module("ui.router").factory("$resolve",s.resolveFactory);h.module("ui.router").service("$trace",function(){return c.trace});R.$inject=["$rootScope"];function R(t){t.$watch(function(){c.trace.approximateDigests++})}e.watchDigests=R;h.module("ui.router").run(R);e.getLocals=function(t){var e=t.getTokens().filter(u.isString);var r=e.map(function(e){return[e,t.getResolvable(e).data]});return r.reduce(o.applyPairs,{})};var E;var x;var k;var P;var _;var C;var O;var T;var j},function(t,e,r){"use strict";var n=r(42);var i=r(21);var o=r(17);var a=r(3);var u=r(40);var s={resolve:function(t,e,r){if(e===void 0){e={}}var s=new i.PathNode(new n.State({params:{},resolvables:[]}));var c=new i.PathNode(new n.State({params:{},resolvables:[]}));var f=new o.ResolveContext([s,c]);f.addResolvables(u.resolvablesBuilder({resolve:t}),c.state);var l=function(t){var r=function(t){return u.resolvablesBuilder({resolve:a.mapObj(t,function(t){return function(){return t}})})};f.addResolvables(r(t),s.state);f.addResolvables(r(e),c.state);var n=function(t,e){t[e.token]=e.value;return t};return f.resolvePath().then(function(t){return t.reduce(n,{})})};return r?r.then(l):l({})}};e.resolveFactory=function(){return s}},function(t,e,r){"use strict";var n=r(3);var i=r(9);var o=r(37);var a=r(4);var u=r(6);var s=r(12);var c=r(56);var f=r(17);var l=r(19);var v=r(57);e.ng1ViewConfigFactory=function(t,e){return[new y(t,e)]};function p(t){var e=["templateProvider","templateUrl","template","notify","async"],r=["controller","controllerProvider","controllerAs","resolveAs"],u=["component","bindings"],s=e.concat(r),c=u.concat(s);var f={},l=t.views||{$default:n.pick(t,c)};n.forEach(l,function(e,r){r=r||"$default";if(a.isString(e))e={component:e};if(!Object.keys(e).length)return;if(e.component){if(s.map(function(t){return a.isDefined(e[t])}).reduce(n.anyTrueR,false)){throw new Error("Cannot combine: "+u.join("|")+" with: "+s.join("|")+" in stateview: 'name@"+t.name+"'")}e.templateProvider=["$injector",function(t){var r=function(t){return e.bindings&&e.bindings[t]||t};var n=v.version.minor>=3?"::":"";var o=function(t){var e=i.kebobString(t.name);var o=r(t.name);if(t.type==="@")return e+"='{{"+n+"$resolve."+o+"}}'";return e+"='"+n+"$resolve."+o+"'"};var a=m(t,e.component).map(o).join(" ");var u=i.kebobString(e.component);return"<"+u+" "+a+"></"+u+">"}]}e.resolveAs=e.resolveAs||"$resolve";e.$type="ng1";e.$context=t;e.$name=r;var c=o.ViewService.normalizeUIViewTarget(e.$context,e.$name);e.$uiViewName=c.uiViewName;e.$uiViewContextAnchor=c.uiViewContextAnchor;f[r]=e});return f}e.ng1ViewsBuilder=p;var h=function(t){return Object.keys(t||{}).map(function(e){return[e,/^([=<@])[?]?(.*)/.exec(t[e])]}).filter(function(t){return a.isDefined(t)&&a.isDefined(t[1])}).map(function(t){return{name:t[1][2]||t[0],type:t[1][1]}})};var d=function(t){if(a.isObject(t.bindToController))return h(t.bindToController);return h(t.scope)};function m(t,e){var r=t.get(e+"Directive");if(!r||!r.length)throw new Error("Unable to find component named '"+e+"'");return r.map(d).reduce(n.unnestR,[])}var g=0;var y=function(){function t(t,e){this.path=t;this.viewDecl=e;this.$id=g++;this.loaded=false}t.prototype.load=function(){var t=this;var e=u.services.$q;if(!this.hasTemplate())throw new Error("No template configuration specified for '"+this.viewDecl.$uiViewName+"@"+this.viewDecl.$uiViewContextAnchor+"'");var r=new f.ResolveContext(this.path);var i=this.path.reduce(function(t,e){return n.extend(t,e.paramValues)},{});var o={template:e.when(this.getTemplate(i,new c.TemplateFactory,r)),controller:e.when(this.getController(r))};return e.all(o).then(function(e){s.trace.traceViewServiceEvent("Loaded",t);t.controller=e.controller;t.template=e.template;return t})};t.prototype.hasTemplate=function(){return!!(this.viewDecl.template||this.viewDecl.templateUrl||this.viewDecl.templateProvider)};t.prototype.getTemplate=function(t,e,r){return e.fromConfig(this.viewDecl,t,r)};t.prototype.getController=function(t){var e=this.viewDecl.controllerProvider;if(!a.isInjectable(e))return this.viewDecl.controller;var r=u.services.$injector.annotate(e);var i=a.isArray(e)?n.tail(e):e;var o=new l.Resolvable("",i,r);return o.get(t)};return t}();e.Ng1ViewConfig=y},function(t,e,r){"use strict";var n=r(4);var i=r(6);var o=r(3);var a=r(19);var u=function(){function t(){}t.prototype.fromConfig=function(t,e,r){return n.isDefined(t.template)?this.fromString(t.template,e):n.isDefined(t.templateUrl)?this.fromUrl(t.templateUrl,e):n.isDefined(t.templateProvider)?this.fromProvider(t.templateProvider,e,r):null};t.prototype.fromString=function(t,e){return n.isFunction(t)?t(e):t};t.prototype.fromUrl=function(t,e){if(n.isFunction(t))t=t(e);if(t==null)return null;return i.services.template.get(t)};t.prototype.fromProvider=function(t,e,r){var u=i.services.$injector.annotate(t);var s=n.isArray(t)?o.tail(t):t;var c=new a.Resolvable("",s,u);return c.get(r)};return t}();e.TemplateFactory=u},function(e,r){e.exports=t},function(t,e,r){"use strict";var n=r(4);var i=r(3);var o=function(){function t(e,r){this.stateRegistry=e;this.stateService=r;i.bindFunctions(t.prototype,this,this)}t.prototype.decorator=function(t,e){return this.stateRegistry.decorator(t,e)||this};t.prototype.state=function(t,e){if(n.isObject(t)){e=t}else{e.name=t}this.stateRegistry.register(e);return this};t.prototype.onInvalid=function(t){return this.stateService.onInvalid(t)};return t}();e.StateProvider=o},function(t,e,r){"use strict";var n=r(6);var i=r(53);var o=r(17);var a=r(3);e.getStateHookBuilder=function(t){return function e(r,u){var s=r[t];function c(t,e){var r=new o.ResolveContext(t.treeChanges().to);return n.services.$injector.invoke(s,this,a.extend({$state$:e},i.getLocals(r)))}return s?c:undefined}}},function(t,e,r){"use strict";var n=r(57);var i=r(3);var o=r(4);var a=r(5);function u(t,e){var r=t.match(/^\s*({[^}]*})\s*$/),n;if(r)t=e+"("+r[1]+")";n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!n||n.length!==4)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function s(t){var e=t.parent().inheritedData("$uiView");var r=a.parse("$cfg.path")(e);return r?i.tail(r).state.name:undefined}function c(t){var e=Object.prototype.toString.call(t.prop("href"))==="[object SVGAnimatedString]";var r=t[0].nodeName==="FORM";return{attr:r?"action":e?"xlink:href":"href",isAnchor:t.prop("tagName").toUpperCase()==="A",clickable:!r}}function f(t,e,r,n,i){return function(o){var a=o.which||o.button,u=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var s=r(function(){e.go(u.state,u.params,u.options)});o.preventDefault();var c=n.isAnchor&&!u.href?1:0;o.preventDefault=function(){if(c--<=0)r.cancel(s)}}}}function l(t,e){return{relative:s(t)||e.$current,inherit:true,source:"sref"}}var v=["$state","$timeout",function t(e,r){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(t,o,a,s){var v=u(a.uiSref,e.current.name);var p={state:v.state,href:null,params:null,options:null};var h=c(o);var d=s[1]||s[0];var m=null;var g;p.options=i.extend(l(o,e),a.uiSrefOpts?t.$eval(a.uiSrefOpts):{});var y=function(t){if(t)p.params=n.copy(t);p.href=e.href(v.state,p.params,p.options);if(m)m();if(d)m=d.$$addStateInfo(v.state,p.params);if(p.href!==null)a.$set(h.attr,p.href)};if(v.paramExpr){t.$watch(v.paramExpr,function(t){if(t!==p.params)y(t)},true);p.params=n.copy(t.$eval(v.paramExpr))}y();if(!h.clickable)return;g=f(o,e,r,h,function(){return p});o.on("click",g);t.$on("$destroy",function(){o.off("click",g)})}}}];var p=["$state","$timeout",function t(e,r){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(t,n,i,o){var a=c(n);var u=o[1]||o[0];var s=[i.uiState,i.uiStateParams||null,i.uiStateOpts||null];var l="["+s.map(function(t){return t||"null"}).join(", ")+"]";var v={state:null,params:null,options:null,href:null};var p=null;var h;function d(t){v.state=t[0];v.params=t[1];v.options=t[2];v.href=e.href(v.state,v.params,v.options);if(p)p();if(u)p=u.$$addStateInfo(v.state,v.params);if(v.href)i.$set(a.attr,v.href)}t.$watch(l,d,true);d(t.$eval(l));if(!a.clickable)return;h=f(n,e,r,a,function(){return v});n.on("click",h);t.$on("$destroy",function(){n.off("click",h)})}}}];var h=["$state","$stateParams","$interpolate","$transitions","$uiRouter",function t(e,r,n,a,c){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,r,f,l){var v=[],p={},h,d;h=n(f.uiSrefActiveEq||"",false)(t);try{d=t.$eval(f.uiSrefActive)}catch(t){}d=d||n(f.uiSrefActive||"",false)(t);if(o.isObject(d)){i.forEach(d,function(r,n){if(o.isString(r)){var i=u(r,e.current.name);g(i.state,t.$eval(i.paramExpr),n)}})}this.$$addStateInfo=function(t,e){if(o.isObject(d)&&v.length>0){return}var r=g(t,e,d);w();return r};function m(t){t.promise.then(w)}t.$on("$stateChangeSuccess",w);t.$on("$destroy",a.onStart({},m));if(c.globals.transition){m(c.globals.transition)}function g(t,n,i){var o=e.get(t,s(r));var a=y(t,n);var u={state:o||{name:t},params:n,hash:a};v.push(u);p[a]=i;return function t(){var e=v.indexOf(u);if(e!==-1)v.splice(e,1)}}function y(e,r){if(!o.isString(e)){throw new Error("state should be a string")}if(o.isObject(r)){return e+i.toJson(r)}r=t.$eval(r);if(o.isObject(r)){return e+i.toJson(r)}return e}function w(){for(var t=0;t<v.length;t++){if(S(v[t].state,v[t].params)){b(r,p[v[t].hash])}else{$(r,p[v[t].hash])}if(R(v[t].state,v[t].params)){b(r,h);
}else{$(r,h)}}}function b(t,e){l(function(){t.addClass(e)})}function $(t,e){t.removeClass(e)}function S(t,r){return e.includes(t.name,r)}function R(t,r){return e.is(t.name,r)}w()}]}}];n.module("ui.router.state").directive("uiSref",v).directive("uiSrefActive",h).directive("uiSrefActiveEq",h).directive("uiState",p)},function(t,e,r){"use strict";var n=r(57);i.$inject=["$state"];function i(t){var e=function(e,r,n){return t.is(e,r,n)};e.$stateful=true;return e}e.$IsStateFilter=i;o.$inject=["$state"];function o(t){var e=function(e,r,n){return t.includes(e,r,n)};e.$stateful=true;return e}e.$IncludedByStateFilter=o;n.module("ui.router.state").filter("isState",i).filter("includedByState",o)},function(t,e,r){"use strict";var n=r(3);var i=r(4);var o=r(12);var a=r(55);var u=r(5);var s=r(17);var c=r(9);var f=r(53);var l=r(57);var v=["$view","$animate","$uiViewScroll","$interpolate","$q",function t(e,r,n,s,c){function f(t,e){return{enter:function(t,e,n){if(l.version.minor>2){r.enter(t,null,e).then(n)}else{r.enter(t,null,e,n)}},leave:function(t,e){if(l.version.minor>2){r.leave(t).then(e)}else{r.leave(t,e)}}}}function v(t,e){return t===e}var p={$cfg:{viewDecl:{$context:e.rootContext()}},$uiView:{}};var h={count:0,restrict:"ECA",terminal:true,priority:400,transclude:"element",compile:function(t,r,l){return function(t,r,d){var m,g,y,w,b=d["onload"]||"",$=d["autoscroll"],S=f(d,t),R=undefined,E=r.inheritedData("$uiView")||p,x=s(d["uiView"]||d["name"]||"")(t)||"$default";var k={$type:"ng1",id:h.count++,name:x,fqn:E.$uiView.fqn?E.$uiView.fqn+"."+x:x,config:null,configUpdated:P,get creationContext(){return u.parse("$cfg.viewDecl.$context")(E)}};o.trace.traceUIViewEvent("Linking",k);function P(t){if(t&&!(t instanceof a.Ng1ViewConfig))return;if(v(R,t))return;o.trace.traceUIViewConfigUpdated(k,t&&t.viewDecl&&t.viewDecl.$context);R=t;C(t)}r.data("$uiView",{$uiView:k});C();w=e.registerUIView(k);t.$on("$destroy",function(){o.trace.traceUIViewEvent("Destroying/Unregistering",k);w()});function _(){if(m){o.trace.traceUIViewEvent("Removing (previous) el",m.data("$uiView"));m.remove();m=null}if(y){o.trace.traceUIViewEvent("Destroying scope",k);y.$destroy();y=null}if(g){var t=g.data("$uiViewAnim");o.trace.traceUIViewEvent("Animate out",t);S.leave(g,function(){t.$$animLeave.resolve();m=null});m=g;g=null}}function C(e){var o=t.$new();var a=c.defer(),u=c.defer();var s={$cfg:e,$uiView:k};var f={$animEnter:a.promise,$animLeave:u.promise,$$animLeave:u};var v=l(o,function(e){e.data("$uiViewAnim",f);e.data("$uiView",s);S.enter(e,r,function r(){a.resolve();if(y)y.$emit("$viewContentAnimationEnded");if(i.isDefined($)&&!$||t.$eval($)){n(e)}});_()});g=v;y=o;y.$emit("$viewContentLoaded",e||R);y.$eval(b)}}}};return h}];p.$inject=["$compile","$controller","$transitions","$view","$timeout"];function p(t,e,r,a,v){var p=u.parse("viewDecl.controllerAs");var h=u.parse("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(a){var u=a.html();return function(a,v){var m=v.data("$uiView");if(!m)return;var g=m.$cfg||{viewDecl:{}};v.html(g.template||u);o.trace.traceUIViewFill(m.$uiView,v.html());var y=t(v.contents());var w=g.controller;var b=p(g);var $=h(g);var S=g.path&&new s.ResolveContext(g.path);var R=S&&f.getLocals(S);a[$]=R;if(w){var E=e(w,n.extend({},R,{$scope:a,$element:v}));if(b){a[b]=E;a[b][$]=R}v.data("$ngControllerController",E);v.children().data("$ngControllerController",E);d(r,E,a,g)}if(i.isString(g.viewDecl.component)){var x=g.viewDecl.component;var k=c.kebobString(x);var P=function(){var t=[].slice.call(v[0].children).filter(function(t){return t&&t.tagName&&t.tagName.toLowerCase()===k});return t&&l.element(t).data("$"+x+"Controller")};var _=a.$watch(P,function(t){if(!t)return;d(r,t,a,g);_()})}y(a)}}}}var h=typeof l.module("ui.router")["component"]==="function";function d(t,e,r,o){if(i.isFunction(e.$onInit)&&!(o.viewDecl.component&&h))e.$onInit();var a=n.tail(o.path).state.self;var u={bind:e};if(i.isFunction(e.uiOnParamsChanged)){var c=new s.ResolveContext(o.path);var f=c.getResolvable("$transition$").data;var l=function(t){if(t===f||t.exiting().indexOf(a)!==-1)return;var r=t.params("to");var i=t.params("from");var o=t.treeChanges().to.map(function(t){return t.paramSchema}).reduce(n.unnestR,[]);var u=t.treeChanges().from.map(function(t){return t.paramSchema}).reduce(n.unnestR,[]);var s=o.filter(function(t){var e=u.indexOf(t);return e===-1||!u[e].type.equals(r[t.id],i[t.id])});if(s.length){var c=s.map(function(t){return t.id});e.uiOnParamsChanged(n.filter(r,function(t,e){return c.indexOf(e)!==-1}),t)}};r.$on("$destroy",t.onSuccess({},l,u))}if(i.isFunction(e.uiCanExit)){var v={exiting:a.name};r.$on("$destroy",t.onBefore(v,e.uiCanExit,u))}}l.module("ui.router.state").directive("uiView",v);l.module("ui.router.state").directive("uiView",p)},function(t,e,r){"use strict";var n=r(57);function i(){var t=false;this.useAnchorScroll=function(){t=true};this.$get=["$anchorScroll","$timeout",function(e,r){if(t){return e}return function(t){return r(function(){t[0].scrollIntoView()},0,false)}}]}n.module("ui.router.state").provider("$uiViewScroll",i)}])});